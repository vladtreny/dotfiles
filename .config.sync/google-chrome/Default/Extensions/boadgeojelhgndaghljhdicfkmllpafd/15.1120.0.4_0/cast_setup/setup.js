var k,aa=aa||{},l=this,m=function(a){return void 0!==a},ba=function(){},ca=function(a){a.sa=function(){return a.va?a.va:a.va=new a}},ea=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},fa=function(a){return"array"==ea(a)},ga=function(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length},n=function(a){return"string"==typeof a},ha=function(a){return"function"==ea(a)},ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0,ka=function(a,
b,c){return a.call.apply(a.bind,arguments)},la=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return q.apply(null,arguments)},ma=function(a,b){var c=Array.prototype.slice.call(arguments,
1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},na=Date.now||function(){return+new Date},t=function(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&m(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}},u=function(a,b){function c(){}c.prototype=b.prototype;a.G=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Qa=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-
2]=arguments[h];return b.prototype[c].apply(a,g)}};var v=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,v);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(v,Error);v.prototype.name="CustomError";var oa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},pa=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1},qa=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^na()).toString(36)},sa=function(a,b){for(var c=0,d=oa(String(a)).split("."),e=oa(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",p=e[g]||
"",r=RegExp("(\\d*)(\\D*)","g"),da=RegExp("(\\d*)(\\D*)","g");do{var wa=r.exec(h)||["","",""],fb=da.exec(p)||["","",""];if(0==wa[0].length&&0==fb[0].length)break;c=ra(0==wa[1].length?0:parseInt(wa[1],10),0==fb[1].length?0:parseInt(fb[1],10))||ra(0==wa[2].length,0==fb[2].length)||ra(wa[2],fb[2])}while(0==c)}return c},ra=function(a,b){return a<b?-1:a>b?1:0};var ta=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ua=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(n(a))return n(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=
c;c--)if(c in a&&a[c]===b)return c;return-1},va=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},xa=function(a,b){var c;a:{c=a.length;for(var d=n(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:n(a)?a.charAt(c):a[c]},ya=function(a){if(!fa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Aa=function(a,b){var c=ta(a,b),
d;(d=0<=c)&&za(a,c);return d},za=function(a,b){Array.prototype.splice.call(a,b,1)},Ba=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Ca=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Da=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Ea=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ga(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},
Fa=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Ha=function(a,b){a.sort(b||Ga)},Ga=function(a,b){return a>b?1:a<b?-1:0};var Ia=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Ja=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ka=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},La=function(a){return null!==a&&"withCredentials"in a},w=function(a,b,c){b in a||(a[b]=c)},Ma=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Oa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];
for(c in d)a[c]=d[c];for(var f=0;f<Na.length;f++)c=Na[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Pa="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},Qa=function(){};Qa.prototype.next=function(){throw Pa;};Qa.prototype.U=function(){return this};
var Ra=function(a){if(a instanceof Qa)return a;if("function"==typeof a.U)return a.U(!1);if(ga(a)){var b=0,c=new Qa;c.next=function(){for(;;){if(b>=a.length)throw Pa;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},Sa=function(a,b){if(ga(a))try{va(a,b,void 0)}catch(c){if(c!==Pa)throw c;}else{a=Ra(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Pa)throw c;}}},Ta=function(a,b){var c=null;Sa(a,function(a){c=b.call(void 0,c,a)});return c};var x=function(a,b){this.g={};this.f=[];this.j=this.h=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof x?(c=a.B(),d=a.w()):(c=Ka(a),d=Ja(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};k=x.prototype;k.v=function(){return this.h};k.w=function(){Ua(this);for(var a=[],b=0;b<this.f.length;b++)a.push(this.g[this.f[b]]);return a};k.B=function(){Ua(this);return this.f.concat()};
k.F=function(){return 0==this.h};k.clear=function(){this.g={};this.j=this.h=this.f.length=0};k.remove=function(a){return y(this.g,a)?(delete this.g[a],this.h--,this.j++,this.f.length>2*this.h&&Ua(this),!0):!1};var Ua=function(a){if(a.h!=a.f.length){for(var b=0,c=0;b<a.f.length;){var d=a.f[b];y(a.g,d)&&(a.f[c++]=d);b++}a.f.length=c}if(a.h!=a.f.length){for(var e={},c=b=0;b<a.f.length;)d=a.f[b],y(e,d)||(a.f[c++]=d,e[d]=1),b++;a.f.length=c}};k=x.prototype;
k.get=function(a,b){return y(this.g,a)?this.g[a]:b};k.set=function(a,b){y(this.g,a)||(this.h++,this.f.push(a),this.j++);this.g[a]=b};k.forEach=function(a,b){for(var c=this.B(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new x(this)};k.U=function(a){Ua(this);var b=0,c=this.j,d=this,e=new Qa;e.next=function(){if(c!=d.j)throw Error("The map has changed since the iterator was created");if(b>=d.f.length)throw Pa;var e=d.f[b++];return a?e:d.g[e]};return e};
var y=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Va=function(a){if(a.w&&"function"==typeof a.w)return a.w();if(n(a))return a.split("");if(ga(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ja(a)},Wa=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ga(a)||n(a))va(a,b,void 0);else{var c;if(a.B&&"function"==typeof a.B)c=a.B();else if(a.w&&"function"==typeof a.w)c=void 0;else if(ga(a)||n(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Ka(a);for(var d=Va(a),e=d.length,f=0;f<e;f++)b.call(void 0,
d[f],c&&c[f],a)}};var z=function(a){this.f=new x;if(a){a=Va(a);for(var b=a.length,c=0;c<b;c++)Xa(this,a[c])}},Ya=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[ia]||(a[ia]=++ja)):b.substr(0,1)+a};z.prototype.v=function(){return this.f.v()};var Xa=function(a,b){a.f.set(Ya(b),b)};k=z.prototype;k.removeAll=function(a){a=Va(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};k.remove=function(a){return this.f.remove(Ya(a))};k.clear=function(){this.f.clear()};k.F=function(){return this.f.F()};
k.contains=function(a){a=Ya(a);return y(this.f.g,a)};var Za=function(a,b){var c=a.clone();c.removeAll(b);return c};z.prototype.w=function(){return this.f.w()};z.prototype.clone=function(){return new z(this)};z.prototype.U=function(){return this.f.U(!1)};var $a;a:{var ab=l.navigator;if(ab){var bb=ab.userAgent;if(bb){$a=bb;break a}}$a=""}var A=function(a){return-1!=$a.indexOf(a)};var cb=function(){return A("Opera")||A("OPR")},db=function(){return(A("Chrome")||A("CriOS"))&&!cb()&&!A("Edge")};var eb=function(){return A("iPhone")&&!A("iPod")&&!A("iPad")};var gb=cb(),B=A("Trident")||A("MSIE"),hb=A("Edge"),ib=A("Gecko")&&!(-1!=$a.toLowerCase().indexOf("webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),jb=-1!=$a.toLowerCase().indexOf("webkit")&&!A("Edge"),kb=function(){var a=$a;if(ib)return/rv\:([^\);]+)(\)|;)/.exec(a);if(hb)return/Edge\/([\d\.]+)/.exec(a);if(B)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(jb)return/WebKit\/(\S+)/.exec(a)},lb=function(){var a=l.document;return a?a.documentMode:void 0},mb=function(){if(gb&&l.opera){var a;
var b=l.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=kb())&&(a=b?b[1]:"");return B&&(b=lb(),b>parseFloat(a))?String(b):a}(),nb={},ob=function(a){return nb[a]||(nb[a]=0<=sa(mb,a))},pb=l.document,qb=pb&&B?lb()||("CSS1Compat"==pb.compatMode?parseInt(mb,10):5):void 0;var rb=function(a,b,c){this.i=c;this.h=a;this.j=b;this.g=0;this.f=null};rb.prototype.get=function(){var a;0<this.g?(this.g--,a=this.f,this.f=a.next,a.next=null):a=this.h();return a};var sb=function(a,b){a.j(b);a.g<a.i&&(a.g++,b.next=a.f,a.f=b)};var tb=function(a){l.setTimeout(function(){throw a;},0)},ub,vb=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!A("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=q(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!A("Trident")&&!A("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(m(c.next)){c=c.next;var a=c.pa;c.pa=null;a()}};return function(a){d.next={pa:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var wb=function(){this.g=this.f=null},yb=new rb(function(){return new xb},function(a){a.reset()},100);wb.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.g=null),a.next=null);return a};var xb=function(){this.next=this.g=this.f=null};xb.prototype.set=function(a,b){this.f=a;this.g=b;this.next=null};xb.prototype.reset=function(){this.next=this.g=this.f=null};var Db=function(a,b){zb||Ab();Bb||(zb(),Bb=!0);var c=Cb,d=yb.get();d.set(a,b);c.g?c.g.next=d:c.f=d;c.g=d},zb,Ab=function(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve(void 0);zb=function(){a.then(Eb)}}else zb=function(){var a=Eb;!ha(l.setImmediate)||l.Window&&l.Window.prototype&&!A("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ub||(ub=vb()),ub(a)):l.setImmediate(a)}},Bb=!1,Cb=new wb,Eb=function(){for(var a=null;a=Cb.remove();){try{a.f.call(a.g)}catch(b){tb(b)}sb(yb,a)}Bb=
!1};var C=function(a,b){this.f=0;this.l=void 0;this.j=this.g=this.h=null;this.i=this.m=!1;if(a!=ba)try{var c=this;a.call(b,function(a){Fb(c,2,a)},function(a){Fb(c,3,a)})}catch(d){Fb(this,3,d)}},Gb=function(){this.next=this.j=this.g=this.i=this.f=null;this.h=!1};Gb.prototype.reset=function(){this.j=this.g=this.i=this.f=null;this.h=!1};
var Hb=new rb(function(){return new Gb},function(a){a.reset()},100),Ib=function(a,b,c){var d=Hb.get();d.i=a;d.g=b;d.j=c;return d},D=function(a){if(a instanceof C)return a;var b=new C(ba);Fb(b,2,a);return b},E=function(a){return new C(function(b,c){c(a)})},Kb=function(a,b,c){Jb(a,b,c,null)||Db(ma(b,a))},Lb=function(a){return new C(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,p;h<a.length;h++)p=a[h],Kb(p,ma(f,h),g);else b(e)})},Mb=function(a){return new C(function(b,
c){var d=a.length,e=[];if(d)for(var f=function(a){b(a)},g=function(a,b){d--;e[a]=b;0==d&&c(e)},h=0,p;h<a.length;h++)p=a[h],Kb(p,f,ma(g,h));else b(void 0)})},F=function(){var a,b,c=new C(function(c,e){a=c;b=e});return new Nb(c,a,b)};C.prototype.then=function(a,b,c){return Ob(this,ha(a)?a:null,ha(b)?b:null,c)};C.prototype.then=C.prototype.then;C.prototype.$goog_Thenable=!0;var G=function(a,b,c){b=Ib(b,b,c);b.h=!0;Pb(a,b);return a},H=function(a,b,c){return Ob(a,null,b,c)};
C.prototype.cancel=function(a){0==this.f&&Db(function(){var b=new I(a);Qb(this,b)},this)};
var Qb=function(a,b){if(0==a.f)if(a.h){var c=a.h;if(c.g){for(var d=0,e=null,f=null,g=c.g;g&&(g.h||(d++,g.f==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.f&&1==d?Qb(c,b):(f?(d=f,d.next==c.j&&(c.j=d),d.next=d.next.next):Rb(c),Sb(c,e,3,b)))}a.h=null}else Fb(a,3,b)},Pb=function(a,b){a.g||2!=a.f&&3!=a.f||Tb(a);a.j?a.j.next=b:a.g=b;a.j=b},Ob=function(a,b,c,d){var e=Ib(null,null,null);e.f=new C(function(a,g){e.i=b?function(c){try{var e=b.call(d,c);a(e)}catch(r){g(r)}}:a;e.g=c?function(b){try{var e=c.call(d,
b);!m(e)&&b instanceof I?g(b):a(e)}catch(r){g(r)}}:g});e.f.h=a;Pb(a,e);return e.f};C.prototype.s=function(a){this.f=0;Fb(this,2,a)};C.prototype.u=function(a){this.f=0;Fb(this,3,a)};
var Fb=function(a,b,c){0==a.f&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.f=1,Jb(c,a.s,a.u,a)||(a.l=c,a.f=b,a.h=null,Tb(a),3!=b||c instanceof I||Ub(a,c)))},Jb=function(a,b,c,d){if(a instanceof C)return Pb(a,Ib(b||ba,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var f=a.then;if(ha(f))return Vb(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},Vb=function(a,b,
c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(p){h(p)}},Tb=function(a){a.m||(a.m=!0,Db(a.o,a))},Rb=function(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);return b};C.prototype.o=function(){for(var a=null;a=Rb(this);)Sb(this,a,this.f,this.l);this.m=!1};
var Sb=function(a,b,c,d){if(3==c&&b.g&&!b.h)for(;a&&a.i;a=a.h)a.i=!1;if(b.f)b.f.h=null,Wb(b,c,d);else try{b.h?b.i.call(b.j):Wb(b,c,d)}catch(e){Xb.call(null,e)}sb(Hb,b)},Wb=function(a,b,c){2==b?a.i.call(a.j,c):a.g&&a.g.call(a.j,c)},Ub=function(a,b){a.i=!0;Db(function(){a.i&&Xb.call(null,b)})},Xb=tb,I=function(a){v.call(this,a)};u(I,v);I.prototype.name="cancel";var Nb=function(a,b,c){this.f=a;this.g=b;this.h=c};t("castApp.core.setupApi.ConfiguredNetworkMsg",function(a,b,c,d){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.wpa_id=d});var Yb=function(a,b){this.ssid=a;this.wpa_auth=b};t("castApp.core.setupApi.ConnectWiFiMsg",Yb);var Zb=function(a,b,c,d,e,f,g,h,p,r,da){this.version=a;this.name=b;this.build_version=c;this.has_update=d;this.ssdp_udn=e;this.mac_address=f;this.connected=g;this.ssid=h;this.wpa_state=p;this.setup_state=r;this.wpa_configured=da};t("castApp.core.setupApi.EurekaInfoMsg34Base",Zb);
var $b=function(a,b,c,d,e,f,g,h,p,r){Zb.call(this,3,a,b,c,d,e,f,g,h,p,r)};u($b,Zb);t("castApp.core.setupApi.EurekaInfoMsgV3",$b);$b.Location=function(a,b){this.latitude=a;this.longitude=b};var ac=function(a,b,c){this.certificate=a;this.nonce=b;this.signed_data=c};$b.Sign=ac;var bc=function(){};$b.Detail=bc;bc.Timezone=function(a,b){this.display_string=a;this.offset=b};bc.Locale=function(a){this.display_string=a};
var cc=function(a,b,c,d,e,f,g,h,p,r,da,wa){Zb.call(this,a,b,c,d,e,f,g,h,p,r,da);this.uptime=wa};u(cc,Zb);t("castApp.core.setupApi.EurekaInfoMsgV4",cc);
var dc=function(a){w(a,"locale","en-US");w(a,"debug_build",!1);w(a,"update_only_build",!1);w(a,"ethernet_connected",!1);w(a,"tos_accepted",!0);w(a,"time_format",0);w(a,"hdmi_control",!0);n(a.hotspot_bssid)||a.mac_address&&5<=a.mac_address.length&&(a.hotspot_bssid="00:1A:11:FF:"+a.mac_address.substr(a.mac_address.length-5));if(a.opt_in){var b=a.opt_in;w(b,"crash",!0);w(b,"stats",!0);w(b,"device_id",!1);w(b,"location",!1);w(b,"opencast",!1)}return a};cc.SetupStats=function(){};var ec=function(){};
cc.Location=ec;var fc=function(){};cc.OptIn=fc;var gc=function(a,b,c){ac.call(this,a,b,c)};u(gc,ac);cc.Sign=gc;var hc=function(a){this.manufacturer="Google Inc.";this.model_name="Eureka Dongle";this.icon_list=a};u(hc,bc);cc.Detail=hc;hc.Icon=function(a,b,c,d){this.mimetype="image/png";this.width=a;this.height=b;this.depth=c;this.url=d};var ic=function(){};t("castApp.core.setupApi.EurekaInfoMsgV7",ic);ic.BuildInfo=function(){};var jc=function(){};ic.DeviceInfo=jc;jc.Capabilities=function(){};
ic.OtaStatus=function(){};ic.Net=function(){};ic.WiFi=function(){};var kc=function(){};ic.Setup=kc;kc.Stats=function(){};var lc=function(){};ic.Settings=lc;var mc=function(){};ic.OptIn=mc;ic.OpenCast=function(){};t("castApp.core.setupApi.ForgetWiFiMsg",function(a){this.wpa_id=a});t("castApp.core.setupApi.GetAppDeviceIdRequestMsg",function(a){this.app_id=a});t("castApp.core.setupApi.GetAppDeviceIdResponseMsg",function(a,b,c){this.app_device_id=a;this.certificate=b;this.signed_data=c});
t("castApp.core.setupApi.OfferMsg",function(a){this.token=a});var nc=function(a){this.sound_id=a};t("castApp.core.setupApi.PlaySoundRequestMsg",nc);t("castApp.core.setupApi.PlaySoundResponseMsg",function(a,b){this.volume=a;this.duration=b});t("castApp.core.setupApi.RebootMsg",function(a){this.params=a});var oc=function(a,b,c,d,e){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.bssid=d;this.signal_level=e};t("castApp.core.setupApi.ScanResultMsgBase",oc);
var pc=function(a,b,c,d,e,f){oc.call(this,a,b,c,d,e);this.ap_list=f};u(pc,oc);t("castApp.core.setupApi.ScanResultMsgV7",pc);pc.Ap=function(a,b,c){this.bssid=a;this.signal_level=b;this.frequency=c};var qc=function(){};t("castApp.core.setupApi.SaveWiFiRequestMsg",qc);t("castApp.core.setupApi.SaveWiFiResponseMsg",function(a){this.setup_state=a});t("castApp.core.setupApi.SendLogReportRequestMsg",function(a){this.uuid=a});
t("castApp.core.setupApi.SendLogReportResponseMsg",function(a){this.crash_report_id=a});var rc=function(){};t("castApp.core.setupApi.SetEurekaInfoMsgBase",rc);var sc=function(){};u(sc,rc);t("castApp.core.setupApi.SetEurekaInfoMsgV3",sc);var tc=function(){};u(tc,rc);t("castApp.core.setupApi.SetEurekaInfoMsgV4",tc);var uc=function(){};u(uc,rc);t("castApp.core.setupApi.SetEurekaInfoMsgV7",uc);t("castApp.core.setupApi.SupportedLocale",function(a,b){this.locale=a;this.display_string=b});
t("castApp.core.setupApi.SupportedTimeZone",function(a,b,c){this.timezone=a;this.display_string=b;this.offset=c});var vc=function(a){this.id=a};t("castApp.core.storage.SetupSession",vc);var wc=function(){};t("castApp.core.storage.CommonSetupState",wc);var xc=function(a){this.deviceIpAddress=a};t("castApp.core.storage.SetupApiClientState",xc);var yc=function(a){this.f=a};t("castApp.core.storage.ConnectWiFiState",yc);
t("castApp.core.storage.EurekaInfoState",function(a,b,c,d,e,f,g,h){this.setupApiVersion=a;this.name=b;this.setupState=c;this.ssdpUdn=d;this.deviceType=e;this.displaySupported=f;this.ethernetConnected=g;this.tosAccepted=h});var zc=function(a,b){this.timeStamp=a;this.verificationProperties=b};t("castApp.core.storage.VerificationState",zc);var J=function(a){this.type=a};t("castApp.core.storage.SetupState",J);var Ac=function(a,b){this.all=b;this.current=a};
t("castApp.core.storage.SetupStateCollection",Ac);var Bc=function(a,b,c){this.type=2;this.deviceName=a;this.ssid=b;this.bssid=c};u(Bc,J);t("castApp.core.storage.HotSpotConnectionState",Bc);
var Cc=function(a,b){this.type=2;this.time=a;this.deviceId=b},Dc=function(a){a.removeItem("setupSessionId")},Fc=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a.key(c);e&&0==e.lastIndexOf("setupSession_",0)&&(e=Ec(a,e))&&b.push(e)}return b},Gc=function(){if("object"===typeof chrome||"object"===typeof chrome.extension||"function"===typeof chrome.extension.getViews){var a=new z;chrome.extension.getViews().forEach(function(b){(b=b.sessionStorage.getItem("setupSessionId"))&&Xa(a,b)});for(var b=
new z,c=0,d=window.localStorage.length;c<d;++c){var e=window.localStorage.key(c);e&&0==e.lastIndexOf("setupSession_",0)&&Xa(b,e.substr(13))}Sa(Za(b,a),function(a){window.localStorage.removeItem("setupSession_"+a)})}},Ec=function(a,b){var c=a.getItem(b);if(c)try{return JSON.parse(c)}catch(d){a.removeItem(b)}return null},Hc=function(a,b){a.setItem("setupSession_"+b.id,JSON.stringify(b))},Ic=function(a,b){a.removeItem("setupSession_"+b.id)},Jc=function(a){var b=a.getItem("setupDeviceState");if(b)try{return JSON.parse(b)}catch(c){a.removeItem("setupDeviceState")}return[]},
Kc=function(a,b){0===b.length?a.removeItem("setupDeviceState"):a.setItem("setupDeviceState",JSON.stringify(b))};var Lc=!1,Mc=function(){return new C(function(a){try{(0,chrome.extension.getBackgroundPage().backgroundSetup.getAnalyticsOptIn)(function(b){a(b)})}catch(b){a(3)}})},Oc=function(a){Nc().then(function(b){b.push(["_setCustomVar",1,"DeviceType",a.deviceType]);b.push(["_trackEvent","Setup","started"])})},Pc=function(a){Nc().then(function(b){b.push(["_setCustomVar",1,"DeviceType",a.deviceType]);b.push(["_trackEvent","Setup","complete"])})},Nc=function(){return Mc().then(function(a){if(3===a)return E();
if(!Lc){a="UA-50032818-1";try{a=chrome.extension.getBackgroundPage().backgroundSetup.getAnalyticsTrackingId()}catch(c){}window._gaq=window._gaq||[];window._gaq.push(["_setAccount",a]);window._gaq.push(["_gat._forceSSL"]);window._gaq.push(["_trackPageview"]);a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://ssl.google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);Lc=!0}return window._gaq})};var Qc=function(a){v.call(this,a)};u(Qc,v);Qc.prototype.name="chrome.runtime.lastError";var Rc=function(a,b){this.onNetworksChanged=a;this.onNetworkListChanged=b};t("castApp.core.NetworkingPrivateApi.WiFiProperties",function(){});t("castApp.core.NetworkingPrivateApi.NetworkProperties",function(){});var Sc=function(){Rc.call(this,chrome.networkingPrivate.onNetworksChanged,chrome.networkingPrivate.onNetworkListChanged)};u(Sc,Rc);ca(Sc);var Tc=function(a){return chrome.runtime.lastError?(a.h(new Qc(chrome.runtime.lastError.message)),!0):!1};k=Sc.prototype;k.getNetworks=function(a){var b=F();chrome.networkingPrivate.getNetworks(a,function(a){Tc(b)||b.g(a)});return b.f};k.getProperties=function(a){var b=F();chrome.networkingPrivate.getProperties(a,function(a){Tc(b)||b.g(a)});return b.f};
k.requestNetworkScan=function(){chrome.networkingPrivate.requestNetworkScan()};k.startConnect=function(a){var b=F();chrome.networkingPrivate.startConnect(a,function(){Tc(b)||b.g()});return b.f};k.startDisconnect=function(a){var b=F();chrome.networkingPrivate.startDisconnect(a,function(){Tc(b)||b.g()});return b.f};k.verifyDestination=function(a){var b=F();chrome.networkingPrivate.verifyDestination(a,function(a){Tc(b)||b.g(a)});return b.f};
k.verifyAndEncryptData=function(a,b){var c=F();chrome.networkingPrivate.verifyAndEncryptData(a,b,function(a){Tc(c)||c.g(a)});return c.f};var K=function(a){this.type=a};t("castApp.protocol.Message",K);var L=function(a){this.type=a;this.requestId=qa()};u(L,K);t("castApp.protocol.Request",L);var M=function(a,b){this.type=a;this.responseTo=b.requestId};u(M,K);t("castApp.protocol.Response",M);var Uc=function(a,b){M.call(this,"Error",a);this.errorName=b||"err-unknown"};u(Uc,M);t("castApp.protocol.Error",Uc);var Vc=function(){};t("castApp.protocol.Handshake",Vc);var Wc=function(){L.call(this,"Handshake.Request");this.coreVersion=2};
u(Wc,L);Vc.Request=Wc;var Xc=function(a){M.call(this,"Handshake.Response",a);this.version=2;this.latestVersion=void 0};u(Xc,M);Vc.Response=Xc;var Yc=function(a,b){M.call(this,"Handshake.UiVersionNotSupported",a);this.latestVersion=b};u(Yc,M);Vc.UiVersionNotSupported=Yc;var Zc=function(a){this.type="SetSimpleState";this.state=a};u(Zc,K);t("castApp.protocol.SetSimpleState",Zc);var $c=function(){};t("castApp.protocol.ModalDialog",$c);
var ad=function(a){L.call(this,"ModalDialog.Request");this.dialogId=a};u(ad,L);$c.Request=ad;var bd=function(a,b){M.call(this,"ModalDialog.Response",a);this.button=b};u(bd,M);$c.Response=bd;var cd=function(){};t("castApp.protocol.DeviceDiscovery",cd);var dd=function(a){this.type="DeviceDiscovery.ShowScanner";this.showTips=a};u(dd,K);cd.ShowScanner=dd;var ed=function(a,b,c){L.call(this,"DeviceDiscovery.ShowDevice");this.deviceType=a;this.deviceName=b;this.otherDevicesExist=c};u(ed,L);
cd.ShowDevice=ed;var fd=function(){};t("castApp.protocol.HotSpotConnection",fd);var gd=function(a,b){this.type="HotSpotConnection.PromptUser";this.deviceName=a;this.ssid=b};u(gd,K);fd.PromptUser=gd;var hd=function(){};t("castApp.protocol.CodeConfirmation",hd);var id=function(a){L.call(this,"CodeConfirmation.Request");this.code=a};u(id,L);hd.Request=id;var jd=function(a,b){M.call(this,"CodeConfirmation.Response",a);this.confirmed=b};u(jd,M);hd.Response=jd;var kd=function(){};
t("castApp.protocol.AudioConfirmation",kd);var ld=function(a){this.type="AudioConfirmation.PromptUser";this.state=a};u(ld,K);kd.PromptUser=ld;var md=function(a){this.type="AudioConfirmation.UserAction";this.action=a};u(md,K);kd.UserAction=md;var nd=function(){};t("castApp.protocol.DeviceConfig",nd);var od=function(a,b){L.call(this,"DeviceConfig.Request");this.name=a;this.country=b};u(od,L);nd.Request=od;var pd=function(a,b,c){M.call(this,"DeviceConfig.Response",a);this.name=b;this.country=c};
u(pd,M);nd.Response=pd;var qd=function(){};t("castApp.protocol.WiFiConfig",qd);var rd=function(a,b,c){this.ssid=a;this.bssid=b;this.security=c};qd.Network=rd;var sd=function(a,b,c,d){this.type="WiFiConfig.Show";this.state=a;this.networks=b;this.selectedNetwork=c;this.encryptedPassword=d};u(sd,K);qd.Show=sd;var td=function(a){this.type="WiFiConfig.UpdateNetworks";this.networks=a};u(td,K);qd.UpdateNetworks=td;var ud=function(a,b){this.type="WiFiConfig.Connect";this.network=a;this.password=b};u(ud,K);
qd.Connect=ud;var vd=function(a,b){this.type="WiFiConfig.Retry";this.network=a;this.encryptedPassword=b};u(vd,K);qd.Retry=vd;var wd=function(){};t("castApp.protocol.WiFiReconnection",wd);var xd=function(a){this.type="WiFiReconnection.PromptUser";this.ssid=a};u(xd,K);wd.PromptUser=xd;var yd=function(){};t("castApp.protocol.Devices",yd);yd.DeviceProperties=function(a,b,c){this.id=a;this.type=b;this.displayName=c};var zd=function(a,b){this.type="Devices.Show";this.devices=a;this.deviceName=b};u(zd,K);
yd.Show=zd;var Ad=function(a,b){this.type="Devices.UserAction";this.device=a;this.action=b};u(Ad,K);yd.UserAction=Ad;var Bd=function(){};t("castApp.protocol.DeviceSettings",Bd);Bd.Locale=function(a,b){this.localeId=a;this.displayString=b};Bd.TimeZone=function(a,b,c){this.timeZoneId=a;this.displayString=b;this.offset=c};
var Cd=function(a,b){this.type="DeviceSettings.Show";this.state=a;this.deviceType=b.deviceType;this.name=b.name;this.ssid=b.ssid;this.timeZoneId=b.timeZoneId;this.supportedTimeZones=b.supportedTimeZones;this.timeFormat=b.timeFormat;this.localeId=b.localeId;this.supportedLocales=b.supportedLocales;this.statsOptIn=b.statsOptIn;this.firmwareVersion=b.firmwareVersion;this.countryCode=b.countryCode;this.macAddress=b.macAddress;this.ipAddress=b.ipAddress};u(Cd,K);Bd.Show=Cd;
var Dd=function(a){this.type="DeviceSettings.Apply";this.name=a.name;this.timeZoneId=a.timeZoneId;this.timeFormat=a.timeFormat;this.localeId=a.localeId;this.statsOptIn=a.statsOptIn};u(Dd,K);Bd.Apply=Dd;var Ed=function(){};t("castApp.protocol.TermsOfService",Ed);var Fd=function(a){this.type="TermsOfService.Show";this.analyticsOptIn=a};u(Fd,K);Ed.Show=Fd;var Gd=function(a){this.type="TermsOfService.Accept";this.analyticsOptIn=a};u(Gd,K);Ed.Accept=Gd;var Hd=function(){};
t("castApp.protocol.DetectCountry",Hd);var Id=function(){L.call(this,"DetectCountry.Request")};u(Id,L);Hd.Request=Id;var Jd=function(a,b){M.call(this,"DetectCountry.Response",a);this.countryCode=b};u(Jd,M);Hd.Response=Jd;var Kd=function(){};t("castApp.protocol.Offers",Kd);var Ld=function(){this.type="Offers.Scan";this.scanId=qa()};u(Ld,K);Kd.Scan=Ld;Kd.Device=function(a,b,c,d){this.token=a;this.displayName=b;this.deviceType=c;this.ssdpUdn=d};
var Md=function(a,b,c){this.type="Offers.ScanResults";this.scanId=a;this.devices=b;this.scanComplete=c};u(Md,K);Kd.ScanResults=Md;var Nd=function(a){this.type="Offers.Redeem";this.url=a};u(Nd,K);Kd.Redeem=Nd;var Od=function(){this.j=this.j;this.u=this.u};Od.prototype.j=!1;Od.prototype.Z=function(){this.j||(this.j=!0,this.C())};Od.prototype.C=function(){if(this.u)for(;this.u.length;)this.u.shift()()};var N=function(a,b){this.type=a;this.f=this.target=b;this.wa=!0};N.prototype.h=function(){this.wa=!1};var Pd=function(a){Pd[" "](a);return a};Pd[" "]=ba;var Qd=!B||9<=qb,Rd=B&&!ob("9");!jb||ob("528");ib&&ob("1.9b")||B&&ob("8")||gb&&ob("9.5")||jb&&ob("528");ib&&!ob("8")||B&&ob("9");var Sd=function(a,b){N.call(this,a?a.type:"");this.f=this.target=null;this.button=0;this.g=this.state=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.f=b;var c=a.relatedTarget;if(c&&ib)try{Pd(c.nodeName)}catch(d){}this.button=a.button;this.state=a.state;this.g=a;a.defaultPrevented&&this.h()}};u(Sd,N);
Sd.prototype.h=function(){Sd.G.h.call(this);var a=this.g;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Rd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Td="closure_listenable_"+(1E6*Math.random()|0),Ud=function(a){return!(!a||!a[Td])},Vd=0;var Wd=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ba=e;this.key=++Vd;this.removed=this.Y=!1},Xd=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.ba=null};var Yd=function(a){this.src=a;this.f={};this.g=0},$d=function(a,b,c,d,e,f){var g=b.toString();b=a.f[g];b||(b=a.f[g]=[],a.g++);var h=Zd(b,c,e,f);-1<h?(a=b[h],d||(a.Y=!1)):(a=new Wd(c,a.src,g,!!e,f),a.Y=d,b.push(a));return a};Yd.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.f))return!1;var e=this.f[a];b=Zd(e,b,c,d);return-1<b?(Xd(e[b]),za(e,b),0==e.length&&(delete this.f[a],this.g--),!0):!1};
var ae=function(a,b){var c=b.type;c in a.f&&Aa(a.f[c],b)&&(Xd(b),0==a.f[c].length&&(delete a.f[c],a.g--))};Yd.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.f)if(!a||c==a){for(var d=this.f[c],e=0;e<d.length;e++)++b,Xd(d[e]);delete this.f[c];this.g--}return b};var be=function(a,b,c,d,e){a=a.f[b.toString()];b=-1;a&&(b=Zd(a,c,d,e));return-1<b?a[b]:null},Zd=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.ba==d)return e}return-1};var ce="closure_lm_"+(1E6*Math.random()|0),de={},ee=0,fe=function(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)fe(a,b[f],c,d,e);return null}c=ge(c);return Ud(a)?a.listen(b,c,d,e):he(a,b,c,!1,d,e)},he=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=ie(a);h||(a[ce]=h=new Yd(a));c=$d(h,b,c,d,e,f);if(c.proxy)return c;d=je();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(ke(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
ee++;return c},je=function(){var a=le,b=Qd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},me=function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)me(a,b[f],c,d,e);else c=ge(c),Ud(a)?$d(a.K,String(b),c,!0,d,e):he(a,b,c,!0,d,e)},ne=function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)ne(a,b[f],c,d,e);else c=ge(c),Ud(a)?a.D(b,c,d,e):a&&(a=ie(a))&&(b=be(a,b,c,!!d,e))&&oe(b)},oe=function(a){if("number"!=typeof a&&a&&!a.removed){var b=
a.src;if(Ud(b))ae(b.K,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(ke(c),d);ee--;(c=ie(b))?(ae(c,a),0==c.g&&(c.src=null,b[ce]=null)):Xd(a)}}},ke=function(a){return a in de?de[a]:de[a]="on"+a},qe=function(a,b,c,d){var e=!0;if(a=ie(a))if(b=a.f[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=pe(f,d),e=e&&!1!==f)}return e},pe=function(a,b){var c=a.listener,d=a.ba||a.src;a.Y&&oe(a);return c.call(d,
b)},le=function(a,b){if(a.removed)return!0;if(!Qd){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Sd(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(p){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.f;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;0<=g;g--){c.f=e[g];var h=qe(e[g],f,!0,c),d=d&&h}for(g=0;g<e.length;g++)c.f=e[g],h=qe(e[g],
f,!1,c),d=d&&h}return d}return pe(a,new Sd(b,this))},ie=function(a){a=a[ce];return a instanceof Yd?a:null},re="__closure_events_fn_"+(1E9*Math.random()>>>0),ge=function(a){if(ha(a))return a;a[re]||(a[re]=function(b){return a.handleEvent(b)});return a[re]};var O=function(){Od.call(this);this.K=new Yd(this);this.ya=this;this.S=null};u(O,Od);O.prototype[Td]=!0;O.prototype.addEventListener=function(a,b,c,d){fe(this,a,b,c,d)};O.prototype.removeEventListener=function(a,b,c,d){ne(this,a,b,c,d)};
var P=function(a,b){var c,d=a.S;if(d)for(c=[];d;d=d.S)c.push(d);var d=a.ya,e=b,f=e.type||e;if(n(e))e=new N(e,d);else if(e instanceof N)e.target=e.target||d;else{var g=e,e=new N(f,d);Oa(e,g)}var g=!0,h;if(c)for(var p=c.length-1;0<=p;p--)h=e.f=c[p],g=se(h,f,!0,e)&&g;h=e.f=d;g=se(h,f,!0,e)&&g;g=se(h,f,!1,e)&&g;if(c)for(p=0;p<c.length;p++)h=e.f=c[p],g=se(h,f,!1,e)&&g};O.prototype.C=function(){O.G.C.call(this);this.K&&this.K.removeAll(void 0);this.S=null};
O.prototype.listen=function(a,b,c,d){return $d(this.K,String(a),b,!1,c,d)};O.prototype.D=function(a,b,c,d){return this.K.remove(String(a),b,c,d)};var se=function(a,b,c,d){b=a.K.f[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var h=g.listener,p=g.ba||g.src;g.Y&&ae(a.K,g);e=!1!==h.call(p,d)&&e}}return e&&0!=d.wa};var te=function(){v.call(this)};u(te,v);te.prototype.name="httpTimeout";var ue=function(a,b){var c=F(),d=function(a){c.g(a)};a.listen(b,d);return G(c.f,function(){a.D(b,d)})},ve=function(a){if(a instanceof I)throw a;};var we=function(){this.f=new z},xe=function(a,b){Xa(a.f,b);return G(b,function(){this.f.remove(b)}.bind(a))},ye=function(a){if(a.f.F())return D();var b=a.f;a.f=new z;return new C(function(a){Sa(b,function(d){G(d,function(){b.remove(d)&&b.F()&&a()});d.cancel()})})};var Q=function(a,b){this.m=a;this.i=b;this.j=new we;this.h=new O;this.f="stopped"};Q.prototype.getState=function(){return this.f};Q.prototype.g=function(a){a!==this.f&&(this.f=a,P(this.h,a))};Q.prototype.start=function(){switch(this.f){case "stopped":case "stopping":return this.restart();case "starting":case "stoppingStartPending":return ze(this);case "started":return D();default:return D()}};
Q.prototype.restart=function(){switch(this.f){case "starting":case "started":this.g("stoppingStartPending");Ae(this);break;case "stopping":this.g("stoppingStartPending");break;case "stopped":this.g("starting"),Be(this)}return ze(this)};var ze=function(a){var b=new we;return G(H(new C(function(a,d){xe(b,ue(this.h,"started")).then(function(){a()});xe(b,ue(this.h,"stopped")).then(function(){d()})}.bind(a)),function(a){a instanceof I&&this.stop();throw a;},a),function(){ye(b)})};
Q.prototype.stop=function(){if("stopped"===this.f)return D();var a=this.f;this.g("stopping");"starting"!==a&&"started"!==a||Ae(this);return ue(this.h,"stopped")};
var R=function(a,b){if("starting"===a.f||"started"===a.f)return xe(a.j,b),b;b.cancel();return E(new I)},Ae=function(a){ye(a.j).then(function(){try{if(this.i)return this.i()}catch(a){}}.bind(a)).then(function(){"stoppingStartPending"===this.f?(this.g("starting"),Be(this)):this.g("stopped")}.bind(a))},Be=function(a){var b=null;try{b=a.m()}catch(c){b=E(c)}"starting"!==a.f?b.cancel():H(xe(a.j,b).then(a.g.bind(a,"started")),a.stop,a)};!ib&&!B||B&&9<=qb||ib&&ob("1.9.1");var Ce=B&&!ob("9");var De={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ee={IMG:" ",BR:"\n"},Ge=function(a){if(Ce&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Fe(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Ce||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},Fe=function(a,b,c){if(!(a.nodeName in De))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Ee)b.push(Ee[a.nodeName]);
else for(a=a.firstChild;a;)Fe(a,b,c),a=a.nextSibling};var He=function(){if(!B)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}},Ie=B&&He();var Je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Ke=function(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}};var Le=function(a,b){this.f=this.o=this.j="";this.i=null;this.l=this.h="";this.g=!1;var c;a instanceof Le?(this.g=m(b)?b:a.g,Me(this,a.j),this.o=a.o,this.f=a.f,Ne(this,a.i),this.h=a.h,Oe(this,a.m.clone()),this.l=a.l):a&&(c=String(a).match(Je))?(this.g=!!b,Me(this,c[1]||"",!0),this.o=Pe(c[2]||""),this.f=Pe(c[3]||"",!0),Ne(this,c[4]),this.h=Pe(c[5]||"",!0),Oe(this,c[6]||"",!0),this.l=Pe(c[7]||"")):(this.g=!!b,this.m=new Qe(null,0,this.g))};
Le.prototype.toString=function(){var a=[],b=this.j;b&&a.push(Re(b,Se,!0),":");var c=this.f;if(c||"file"==b)a.push("//"),(b=this.o)&&a.push(Re(b,Se,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.i,null!=c&&a.push(":",String(c));if(c=this.h)this.f&&"/"!=c.charAt(0)&&a.push("/"),a.push(Re(c,"/"==c.charAt(0)?Te:Ue,!0));(c=this.m.toString())&&a.push("?",c);(c=this.l)&&a.push("#",Re(c,Ve));return a.join("")};Le.prototype.clone=function(){return new Le(this)};
var Me=function(a,b,c){a.j=c?Pe(b,!0):b;a.j&&(a.j=a.j.replace(/:$/,""))},Ne=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null},Oe=function(a,b,c){b instanceof Qe?(a.m=b,We(a.m,a.g)):(c||(b=Re(b,Xe)),a.m=new Qe(b,0,a.g))},Ye=function(a){return a instanceof Le?a.clone():new Le(a,void 0)},Pe=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Re=function(a,b,c){return n(a)?(a=encodeURI(a).replace(b,Ze),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,
"%$1")),a):null},Ze=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Se=/[#\/\?@]/g,Ue=/[\#\?:]/g,Te=/[\#\?]/g,Xe=/[\#\?@]/g,Ve=/#/g,Qe=function(a,b,c){this.g=this.f=null;this.h=a||null;this.j=!!c},$e=function(a){a.f||(a.f=new x,a.g=0,a.h&&Ke(a.h,function(b,c){var d=decodeURIComponent(b.replace(/\+/g," "));$e(a);a.h=null;var d=af(a,d),e=a.f.get(d);e||a.f.set(d,e=[]);e.push(c);a.g++}))};Qe.prototype.v=function(){$e(this);return this.g};
Qe.prototype.remove=function(a){$e(this);a=af(this,a);return y(this.f.g,a)?(this.h=null,this.g-=this.f.get(a).length,this.f.remove(a)):!1};Qe.prototype.clear=function(){this.f=this.h=null;this.g=0};Qe.prototype.F=function(){$e(this);return 0==this.g};var bf=function(a,b){$e(a);b=af(a,b);return y(a.f.g,b)};k=Qe.prototype;k.B=function(){$e(this);for(var a=this.f.w(),b=this.f.B(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.w=function(a){$e(this);var b=[];if(n(a))bf(this,a)&&(b=Ba(b,this.f.get(af(this,a))));else{a=this.f.w();for(var c=0;c<a.length;c++)b=Ba(b,a[c])}return b};k.set=function(a,b){$e(this);this.h=null;a=af(this,a);bf(this,a)&&(this.g-=this.f.get(a).length);this.f.set(a,[b]);this.g++;return this};k.get=function(a,b){var c=a?this.w(a):[];return 0<c.length?String(c[0]):b};
k.toString=function(){if(this.h)return this.h;if(!this.f)return"";for(var a=[],b=this.f.B(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.w(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.h=a.join("&")};k.clone=function(){var a=new Qe;a.h=this.h;this.f&&(a.f=this.f.clone(),a.g=this.g);return a};
var af=function(a,b){var c=String(b);a.j&&(c=c.toLowerCase());return c},We=function(a,b){b&&!a.j&&($e(a),a.h=null,a.f.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.h=null,this.f.set(af(this,e),Da(a)),this.g+=a.length))},a));a.j=b};var cf=function(a,b,c){if(ha(a))c&&(a=q(a,c));else if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)},S=function(a){var b=null;return H(new C(function(c,d){b=cf(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}),function(a){l.clearTimeout(b);throw a;})};var df=function(){};df.prototype.f=null;var ff=function(a){var b;(b=a.f)||(b={},ef(a)&&(b[0]=!0,b[1]=!0),b=a.f=b);return b};var gf,hf=function(){};u(hf,df);var jf=function(a){return(a=ef(a))?new ActiveXObject(a):new XMLHttpRequest},ef=function(a){if(!a.g&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.g=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.g};gf=new hf;var T=function(a){O.call(this);this.headers=new x;this.I=a||null;this.g=!1;this.H=this.f=null;this.O="";this.i=0;this.h=this.N=this.s=this.L=!1;this.l=0;this.A=null;this.m="";this.T=this.o=!1};u(T,O);var kf=/^https?$/i,lf=["POST","PUT"];T.prototype.ta=function(){return this.m};T.prototype.ua=function(){return this.o};
T.prototype.send=function(a,b,c,d){if(this.f)throw Error("[goog.net.XhrIo] Object is active with another request="+this.O+"; newUri="+a);b=b?b.toUpperCase():"GET";this.O=a;this.i=0;this.L=!1;this.g=!0;this.f=this.I?jf(this.I):jf(gf);this.H=this.I?ff(this.I):ff(gf);this.f.onreadystatechange=q(this.ma,this);try{this.N=!0,this.f.open(b,String(a),!0),this.N=!1}catch(f){mf(this);return}a=c||"";var e=this.headers.clone();d&&Wa(d,function(a,b){e.set(b,a)});d=xa(e.B(),nf);c=l.FormData&&a instanceof l.FormData;
!(0<=ta(lf,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.f.setRequestHeader(b,a)},this);this.m&&(this.f.responseType=this.m);La(this.f)&&(this.f.withCredentials=this.o);try{of(this),0<this.l&&((this.T=pf(this.f))?(this.f.timeout=this.l,this.f.ontimeout=q(this.na,this)):this.A=cf(this.na,this.l,this)),this.s=!0,this.f.send(a),this.s=!1}catch(f){mf(this)}};
var pf=function(a){return B&&ob(9)&&"number"==typeof a.timeout&&m(a.ontimeout)},nf=function(a){return"content-type"==a.toLowerCase()};T.prototype.na=function(){"undefined"!=typeof aa&&this.f&&(this.i=8,P(this,"timeout"),this.abort(8))};var mf=function(a){a.g=!1;a.f&&(a.h=!0,a.f.abort(),a.h=!1);a.i=5;qf(a);rf(a)},qf=function(a){a.L||(a.L=!0,P(a,"complete"),P(a,"error"))};
T.prototype.abort=function(a){this.f&&this.g&&(this.g=!1,this.h=!0,this.f.abort(),this.h=!1,this.i=a||7,P(this,"complete"),P(this,"abort"),rf(this))};T.prototype.C=function(){this.f&&(this.g&&(this.g=!1,this.h=!0,this.f.abort(),this.h=!1),rf(this,!0));T.G.C.call(this)};T.prototype.ma=function(){this.j||(this.N||this.s||this.h?sf(this):this.za())};T.prototype.za=function(){sf(this)};
var sf=function(a){if(a.g&&"undefined"!=typeof aa&&(!a.H[1]||4!=tf(a)||2!=uf(a)))if(a.s&&4==tf(a))cf(a.ma,0,a);else if(P(a,"readystatechange"),4==tf(a)){a.g=!1;try{vf(a)?(P(a,"complete"),P(a,"success")):(a.i=6,qf(a))}finally{rf(a)}}},rf=function(a,b){if(a.f){of(a);var c=a.f,d=a.H[0]?ba:null;a.f=null;a.H=null;b||P(a,"ready");try{c.onreadystatechange=d}catch(e){}}},of=function(a){a.f&&a.T&&(a.f.ontimeout=null);"number"==typeof a.A&&(l.clearTimeout(a.A),a.A=null)},vf=function(a){var b=uf(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=
!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.O).match(Je)[1]||null,!a&&l.self&&l.self.location&&(a=l.self.location.protocol,a=a.substr(0,a.length-1)),b=!kf.test(a?a.toLowerCase():"");c=b}return c},tf=function(a){return a.f?a.f.readyState:0},uf=function(a){try{return 2<tf(a)?a.f.status:-1}catch(b){return-1}};T.prototype.aa=function(){try{return this.f?this.f.responseText:""}catch(a){return""}};
T.prototype.getResponseHeader=function(a){return this.f&&4==tf(this)?this.f.getResponseHeader(a):void 0};var wf=function(a){var b={};a=(a.f&&4==tf(a)?a.f.getAllResponseHeaders():"").split("\r\n");for(var c=0;c<a.length;c++)if(!/^[\s\xa0]*$/.test(a[c])){var d;d=2;for(var e=a[c].split(": "),f=[];0<d&&e.length;)f.push(e.shift()),d--;e.length&&f.push(e.join(": "));d=f;b[d[0]]=b[d[0]]?b[d[0]]+(", "+d[1]):d[1]}return b};var xf=function(a){Od.call(this);this.g=a;this.f={}};u(xf,Od);var yf=[];k=xf.prototype;k.listen=function(a,b,c,d){fa(b)||(b&&(yf[0]=b.toString()),b=yf);for(var e=0;e<b.length;e++){var f=fe(a,b[e],c||this.handleEvent,d||!1,this.g||this);if(!f)break;this.f[f.key]=f}return this};
k.D=function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)this.D(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.g||this,c=ge(c),d=!!d,b=Ud(a)?be(a.K,String(b),c,d,e):a?(a=ie(a))?be(a,b,c,d,e):null:null,b&&(oe(b),delete this.f[b.key]);return this};k.removeAll=function(){Ia(this.f,function(a,b){this.f.hasOwnProperty(b)&&oe(a)},this);this.f={}};k.C=function(){xf.G.C.call(this);this.removeAll()};k.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var zf=function(){this.f=[];this.g=[]},Af=function(a){0==a.f.length&&(a.f=a.g,a.f.reverse(),a.g=[]);return a.f.pop()};k=zf.prototype;k.v=function(){return this.f.length+this.g.length};k.F=function(){return 0==this.f.length&&0==this.g.length};k.clear=function(){this.f=[];this.g=[]};k.contains=function(a){return 0<=ta(this.f,a)||0<=ta(this.g,a)};k.remove=function(a){var b=ua(this.f,a);if(0>b)return Aa(this.g,a);za(this.f,b);return!0};
k.w=function(){for(var a=[],b=this.f.length-1;0<=b;--b)a.push(this.f[b]);for(var c=this.g.length,b=0;b<c;++b)a.push(this.g[b]);return a};var Bf=function(a,b){Od.call(this);this.o=a||0;this.h=b||10;if(this.o>this.h)throw Error("[goog.structs.Pool] Min can not be greater than max");this.f=new zf;this.g=new z;this.l=null;this.W()};u(Bf,Od);Bf.prototype.$=function(){var a=na();if(!(null!=this.l&&0>a-this.l)){for(var b;0<this.f.v()&&(b=Af(this.f),!this.ia(b));)this.W();!b&&this.v()<this.h&&(b=this.m());b&&(this.l=a,Xa(this.g,b));return b}};Bf.prototype.V=function(a){this.g.remove(a);this.ia(a)&&this.v()<this.h?this.f.g.push(a):Cf(a)};
Bf.prototype.W=function(){for(var a=this.f;this.v()<this.o;){var b=this.m();a.g.push(b)}for(;this.v()>this.h&&0<this.f.v();)Cf(Af(a))};Bf.prototype.m=function(){return{}};var Cf=function(a){if("function"==typeof a.Z)a.Z();else for(var b in a)a[b]=null};k=Bf.prototype;k.ia=function(a){return"function"==typeof a.Aa?a.Aa():!0};k.contains=function(a){return this.f.contains(a)||this.g.contains(a)};k.v=function(){return this.f.v()+this.g.v()};k.F=function(){return this.f.F()&&this.g.F()};
k.C=function(){Bf.G.C.call(this);if(0<this.g.v())throw Error("[goog.structs.Pool] Objects not released");delete this.g;for(var a=this.f;!a.F();)Cf(Af(a));delete this.f};var Df=function(a,b){this.f=a;this.g=b};Df.prototype.clone=function(){return new Df(this.f,this.g)};var Ef=function(a){this.f=[];if(a)a:{var b,c;if(a instanceof Ef){if(b=a.B(),c=a.w(),0>=a.v()){a=this.f;for(var d=0;d<b.length;d++)a.push(new Df(b[d],c[d]));break a}}else b=Ka(a),c=Ja(a);for(d=0;d<b.length;d++)Ff(this,b[d],c[d])}},Ff=function(a,b,c){var d=a.f;d.push(new Df(b,c));b=d.length-1;a=a.f;for(c=a[b];0<b;)if(d=b-1>>1,a[d].f>c.f)a[b]=a[d],b=d;else break;a[b]=c};k=Ef.prototype;
k.remove=function(){var a=this.f,b=a.length,c=a[0];if(!(0>=b)){if(1==b)ya(a);else{a[0]=a.pop();for(var a=0,b=this.f,d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2,f=g<d&&b[g].f<b[f].f?g:f;if(b[f].f>e.f)break;b[a]=b[f];a=f}b[a]=e}return c.g}};k.w=function(){for(var a=this.f,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].g);return b};k.B=function(){for(var a=this.f,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].f);return b};k.clone=function(){return new Ef(this)};k.v=function(){return this.f.length};
k.F=function(){return 0==this.f.length};k.clear=function(){ya(this.f)};var Gf=function(){Ef.call(this)};u(Gf,Ef);var Hf=function(a,b){this.i=new Gf;Bf.call(this,a,b)};u(Hf,Bf);k=Hf.prototype;k.$=function(a,b){if(!a)return Hf.G.$.call(this);Ff(this.i,m(b)?b:100,a);this.fa()};k.fa=function(){for(var a=this.i;0<a.v();){var b=this.$();if(b)a.remove().apply(this,[b]);else break}};k.V=function(a){Hf.G.V.call(this,a);this.fa()};k.W=function(){Hf.G.W.call(this);this.fa()};k.C=function(){Hf.G.C.call(this);l.clearTimeout(void 0);this.i.clear();this.i=null};var If=function(a,b,c,d){this.s=a;this.A=!!d;Hf.call(this,b,c)};u(If,Hf);If.prototype.m=function(){var a=new T,b=this.s;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.A&&(a.o=!0);return a};If.prototype.ia=function(a){return!a.j&&!a.f};var Jf=function(a,b,c,d,e,f){O.call(this);this.m=m(a)?a:1;this.i=m(e)?Math.max(0,e):0;this.g=new If(b,c,d,f);this.f=new x;this.h=new xf(this)};u(Jf,O);var Kf="ready complete success error abort timeout".split(" ");Jf.prototype.send=function(a,b,c,d,e,f,g,h,p,r){if(this.f.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new Lf(b,q(this.o,this,a),c,d,e,g,m(h)?h:this.m,p,r);this.f.set(a,b);a=q(this.l,this,a);this.g.$(a,f);return b};
Jf.prototype.abort=function(a,b){var c=this.f.get(a);if(c){var d=c.ca;c.oa=!0;b&&(d&&(this.h.D(d,Kf,c.la),me(d,"ready",function(){var a=this.g;a.g.remove(d)&&a.V(d)},!1,this)),this.f.remove(a));d&&d.abort()}};Jf.prototype.l=function(a,b){var c=this.f.get(a);c&&!c.ca?(this.h.listen(b,Kf,c.la),b.l=Math.max(0,this.i),b.m=c.ta(),b.o=c.ua(),c.ca=b,P(this,new Mf("ready",this,a,b)),Nf(this,a,b),c.oa&&b.abort()):(c=this.g,c.g.remove(b)&&c.V(b))};
Jf.prototype.o=function(a,b){var c=b.target;switch(b.type){case "ready":Nf(this,a,c);break;case "complete":a:{var d=this.f.get(a);if(7==c.i||vf(c)||d.X>d.ea)if(P(this,new Mf("complete",this,a,c)),d&&(d.ra=!0,d.qa)){c=d.qa.call(c,b);break a}c=null}return c;case "success":P(this,new Mf("success",this,a,c));break;case "timeout":case "error":d=this.f.get(a);d.X>d.ea&&P(this,new Mf("error",this,a,c));break;case "abort":P(this,new Mf("abort",this,a,c))}return null};
var Nf=function(a,b,c){var d=a.f.get(b);!d||d.ra||d.X>d.ea?(d&&(a.h.D(c,Kf,d.la),a.f.remove(b)),a=a.g,a.g.remove(c)&&a.V(c)):(d.X++,c.send(d.Ha,d.Oa,d.Fa,d.Ga))};Jf.prototype.C=function(){Jf.G.C.call(this);this.g.Z();this.g=null;this.h.Z();this.h=null;this.f.clear();this.f=null};var Mf=function(a,b,c,d){N.call(this,a,b);this.id=c;this.ca=d};u(Mf,N);
var Lf=function(a,b,c,d,e,f,g,h,p){this.Ha=a;this.Oa=c||"GET";this.Fa=d;this.Ga=e||null;this.ea=m(g)?g:1;this.X=0;this.oa=this.ra=!1;this.la=b;this.qa=f;this.f=h||"";this.g=!!p;this.ca=null};Lf.prototype.ua=function(){return this.g};Lf.prototype.ta=function(){return this.f};var Of=function(){},Pf=function(){v.call(this)};u(Pf,v);Pf.prototype.name="httpStatus";var Qf=function(){v.call(this)};u(Qf,v);Qf.prototype.name="httpResponseParsing";var Rf=function(a,b){return a.request(b).then(function(a){if(!pa(a.getResponseHeader("content-type")||"","application/json"))try{return JSON.parse(a.aa())}catch(b){}throw new Qf;})},Sf=function(){this.f=new x;this.g=0};u(Sf,Of);var Tf=function(a){this.g=a.aa();this.f={};Ia(wf(a),function(a,c){this.f[c.toLowerCase()]=a},this)};
Tf.prototype.aa=function(){return this.g};Tf.prototype.getResponseHeader=function(a){return this.f[a.toLowerCase()]||void 0};Sf.prototype.request=function(a){var b=F(),c=a.timeout||1E4,d=this.f.get(c);d||(d=new Jf,d.i=Math.max(0,c),this.f.set(c,d));c=a.method||"GET";d.send(this.g++,a.url,c,a.content,a.headers,0,function(a){a=a.target;vf(a)?b.g(new Tf(a)):b.h(new Pf)},a.P);return b.f};var Uf=[[0xfa8fca000000,0xfa8fcaffffff],[111971074048,111971139583]],Vf=["Chromecast","Chromecast Audio","Chromekey","Eureka Dongle"],Wf={a:1,b:2,c:3,d:4,e:5},Xf=function(a){if(!/^([0-9a-fA-F]{2}:){5}[0-9a-fA-F]{2}$/.test(a))return NaN;var b=parseInt,c=RegExp,d;d=":".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08");c=new c(d,"g");a=a.replace(c,"");return b(a,16)},Yf=function(a,b){return!(!a||!b||0!==pa(a,b))},Zf=function(a){var b=Xf(a);return!!xa(Uf,function(a){return b>=a[0]&&
b<=a[1]})},$f=function(a){return!a.WiFi||!a.WiFi.BSSID||a.WiFi.Security&&"None"!==a.WiFi.Security?!1:Zf(a.WiFi.BSSID)},ag=function(a){var b=/^(.*)\.([a-e])$/.exec(a);return b&&3===b.length?{name:b[1],type:b[2]}:{name:a,type:"c"}},bg=function(a){var b;if("undefined"!=typeof DOMParser)b=(new DOMParser).parseFromString(a,"application/xml");else if(Ie){if(b=new ActiveXObject("MSXML2.DOMDocument")){b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",
2048),b.setProperty("MaxElementDepth",256)}catch(e){}}b.loadXML(a)}else throw Error("Your browser does not support loading xml documents");if(!b)return null;var c=b.querySelector("root > device > manufacturer");a=b.querySelector("root > device > modelName");if(!c||!a)return null;c=Ge(c);a=Ge(a);a="Google Inc."==c&&0<=ta(Vf,a);var d=b.querySelector("root > URLBase"),c=b.querySelector("root > device > friendlyName");b=b.querySelector("root > device > UDN");if(!d||!c||!b)return null;d=Ge(d);d=Ye(d).f;
c=Ge(c);b=Ge(b);return{name:c,ipAddress:d,ja:b,Na:a}},cg=function(a){switch(a){case 2:case 3:case 4:return 3;case 5:case 6:return 4;case 7:case 8:return 5}return 2},dg=function(a){switch(a){case 2:return 1;case 3:return 2;case 4:return 5;case 5:return 7}return 0},eg=function(a){var b=2;1===a.g?b=3:2===a.g&&(b=4);var c=new sd(b,[],null,null);c.selectedNetwork=new rd(a.f.ssid,null,cg(a.f.wpa_auth));a.bssid&&(c.selectedNetwork.bssid=a.bssid,c.networks.push(c.selectedNetwork));a.f.enc_passwd&&4!==b&&
(c.encryptedPassword=a.f.enc_passwd);return c},fg=function(a,b,c){switch(a){case 3:return c=new sc,c.name=b,c;case 4:case 5:case 6:return a=new tc,a.name=b,a.opt_in=new fc,a.opt_in.crash=a.opt_in.stats=c,a;default:return a=new uc,a.name=b,a.opt_in=new mc,a.opt_in.stats=c,a}};var U=function(a){this.g=new Q(this.j.bind(this),this.m.bind(this));this.f=a};U.prototype.start=function(){return this.g.start()};U.prototype.stop=function(){return this.g.stop()};U.prototype.j=function(){return D()};U.prototype.m=function(){return D()};var V=function(a){return a.f.m.f.J()};var gg=function(a){U.call(this,a)};u(gg,U);gg.prototype.j=function(){var a=this;R(this.g,V(this).sendRequest(new id((this.f.g.setupApiClientState||null).verificationState.pin))).then(function(b){b.confirmed?hg(a.f,new J(5)):R(a.g,V(a).sendRequest(new ad(3))).then(function(){ig(a.f)})});return D()};var jg=function(a,b){this.networks=new x;this.j=new Q(this.Ea.bind(this),this.Da.bind(this));this.h=a;this.i=Fa(arguments,1);this.g=new z;this.m=this.Ja.bind(this);this.l=this.Ka.bind(this);this.f=new O},kg=function(a,b){N.call(this,a);this.g=b};u(kg,N);var lg=function(){};lg.prototype.h=function(){return!0};lg.prototype.f=function(){return!0};var mg=function(a){this.g=a||null};u(mg,lg);mg.prototype.h=function(a){return!(!a.WiFi||a.WiFi.Security&&"None"!==a.WiFi.Security)};
mg.prototype.f=function(a){return this.g?!(!a.WiFi||a.WiFi.BSSID!==this.g):$f(a)};k=jg.prototype;k.start=function(){return this.j.start()};k.stop=function(){return this.j.stop()};k.Ea=function(){var a=this.h;a.onNetworkListChanged.addListener(this.m);a.onNetworksChanged.addListener(this.l);return R(this.j,this.h.getNetworks({networkType:"WiFi",visible:!0})).then(this.Ma.bind(this))};k.Ma=function(a){return Lb(a.filter(function(a){if(ng(this,a))return!0;Xa(this.g,a.GUID);return!1}.bind(this)).map(function(a){return this.ka(a.GUID)}.bind(this)))};
k.Da=function(){this.h.onNetworkListChanged.removeListener(this.m);this.h.onNetworksChanged.removeListener(this.l);this.networks.clear();this.g.clear();return D()};k.Ja=function(a){var b=new z(this.networks.B());a=Za(new z(a),this.g);Sa(Za(a,b),this.ka.bind(this));Sa(Za(b,a),this.Pa.bind(this))};k.Pa=function(a){var b=this.networks.get(a);this.networks.remove(a);a="Connected"===b.ConnectionState;b.ConnectionState="NotConnected";a&&og(this,"disconnected",b);og(this,"removed",b)};
k.Ka=function(a){a=Za(new z(a),this.g);Sa(a,this.ka.bind(this))};k.ka=function(a){var b=F();G(pg(this,a).then(function(b){var d=this.networks.get(a),e=!(!d||"Connected"!==d.ConnectionState);this.networks.set(b.GUID,b);var f="Connected"===b.ConnectionState;d||og(this,"added",b);!e&&f?og(this,"connected",b):e&&!f&&og(this,"disconnected",b)}.bind(this)),function(){b.g()});return b.f};
var og=function(a,b,c){P(a.f,new kg(b,c))},pg=function(a,b){return H(R(a.j,a.h.getProperties(b)),function(a){throw a;}.bind(a)).then(function(a){if(!qg(this,a))throw Xa(this.g,b),new I;return a}.bind(a))},ng=function(a,b){return!xa(a.i,function(a){return!a.h(b)})},qg=function(a,b){return!xa(a.i,function(a){return!a.f(b)})};var rg=function(a){this.g=a;this.f=null},sg=new x(1,2E4,3,6E4,2,6E4),tg=function(a){var b=sg.get(a.type,Infinity);return na()-a.time<b},ug=function(a){this.g=a};u(ug,lg);ug.prototype.f=function(a){return!vg(this.g,a.WiFi&&a.WiFi.BSSID,2)};
var wg=function(a){a.f=new x;for(var b=Jc(a.g),c=[],d=0,e=b.length;d<e;++d){var f=b[d];if(tg(f)){c.push(f);y(a.f.g,f.type)||a.f.set(f.type,new x);var g=a.f.get(f.type);g&&g.get(f.deviceId,-Infinity)<f.time&&g.set(f.deviceId,f.time)}}c.length!==b.length&&Kc(a.g,c)},vg=function(a,b,c){a.f||wg(a);a=a.f.get(c,null);if(null===a||!y(a.g,b))return!1;b=a.get(b)+sg.get(c,0);return na()<b};var xg=function(a){U.call(this,a);this.i=null;this.s=0;this.l=this.h=null};u(xg,U);xg.prototype.j=function(){return R(this.g,yg(this.f)).then(function(a){this.i=a;V(this).sendMessage(eg(W(this.f).connectWiFi));zg(this,0);this.o()}.bind(this))};xg.prototype.m=function(){this.i=null;return D()};
var zg=function(a,b){H(R(a.g,S(b)).then(function(){++a.s;return R(a.g,Ag(a.i,{options:["version","setup.setup_state","net.ip_address"]}))}).then(a.u.bind(a)).then(a.o.bind(a)),function(a){ve(a)}).then(function(){zg(a,5E3)})};xg.prototype.u=function(){var a=this.i.g.read().eurekaInfoState,b=a.setupState;if(b!==this.l)switch(this.l=b,b){case 31:return Bg(this,2),E(new I);case 21:case 41:case 10:case 11:return Bg(this,1),E(new I);case 60:case 61:case 51:return Cg(this,a),E(new I)}};
var Cg=function(a,b){a.h&&a.h.cancel();G(G(H(R(a.g,Mc()).then(function(a){a=fg(b.setupApiVersion,W(this.f).deviceName,3!==a);return R(this.g,Dg(this.i,a))}.bind(a)),function(a){ve(a)}),function(){var a=W(this.f),d=a.connectedHotSpotBssid,e=this.f.f.f,d=new Cc(na(),d),f=Jc(e).filter(tg);f.push(d);Kc(e,f);delete a.connectedHotSpotBssid;Eg(this.f,a);if(60!==b.setupState&&4<=b.setupApiVersion)return H(R(this.g,Fg(this.i)),ba)}.bind(a)),function(){hg(this.f,new J(9))}.bind(a))},Bg=function(a,b){a.h&&a.h.cancel();
var c=W(a.f);c.connectWiFi.g=b;Eg(a.f,c);hg(a.f,new J(6))};xg.prototype.o=function(){this.h&&this.h.cancel();this.h=R(this.g,S(6E4)).then(this.A.bind(this))};xg.prototype.A=function(){this.stop();V(this).sendMessage(new K("ShowGenericSetupError"))};var Gg="AD AE AF AG AI AL AM AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BL BM BN BO BQ BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CW CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MF MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR SS ST SV SX SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW".split(" ");var Hg=function(a){return(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):""},Ig=function(a){return(a=a.match(/[-_]([a-zA-Z]{2}|\d{3})([-_]|$)/))?a[0].replace(/[_-]/g,""):""};var Jg=function(a){U.call(this,a)};u(Jg,U);Jg.prototype.j=function(){var a=W(this.f),b=(this.f.g.setupApiClientState||null).eurekaInfoState,c=a.deviceName||b.name,b=3===b.setupApiVersion,d=a.country||b?null:Kg(this);return R(this.g,V(this).sendRequest(new od(c,d))).then(function(a){var b=W(this.f);b.deviceName=a.name;d&&(b.country=a.country);Eg(this.f,b);hg(this.f,new J(6))}.bind(this))};
var Kg=function(a){a=a.f.f.i();var b=Ig(a);return b&&-1!==Gg.indexOf(b)?b:(a=Hg(a).toUpperCase())&&-1!==Gg.indexOf(a)?a:"US"};var Lg=function(){this.f={};this.g={};this.h=new z};Lg.prototype.sendMessage=function(a){a.responseTo?this.h.contains(a.responseTo)&&(this.h.remove(a.responseTo),Mg(this,a)):Mg(this,a)};Lg.prototype.sendRequest=function(a,b){var c=F();this.f[a.requestId]={R:c,xa:b?setTimeout(q(this.m,this,a.requestId),b):null};Mg(this,a);return c.f};Lg.prototype.m=function(a){a in this.f&&(this.f[a].R.f.cancel(),delete this.f[a])};
Lg.prototype.addListener=function(a,b){var c=this.g[a];c||(c=this.g[a]=new z);Xa(c,b)};var Ng=function(a,b){var c=F(),d=q(function(a){c.g(a)},a);a.addListener(b,d);return G(c.f,function(){this.removeListener(b,d)}.bind(a))};Lg.prototype.removeListener=function(a,b){var c=this.g[a];c&&c.remove(b)};
var Og=function(a,b){if(b.requestId)Xa(a.h,b.requestId);else if(b.responseTo){var c=a.f[b.responseTo];c&&(delete a.f[b.responseTo],null!==c.xa&&clearTimeout(c.xa),b instanceof Uc?c.R.h(b):c.R.g(b))}var d=a.g[b.type];d&&d.w().forEach(function(a){d.contains(a)&&a(b)})};var Pg=A("Firefox"),Qg=eb()||A("iPod"),Rg=A("iPad"),Sg=A("Android")&&!(db()||A("Firefox")||cb()||A("Silk")),Tg=db(),Ug=A("Safari")&&!(db()||A("Coast")||cb()||A("Edge")||A("Silk")||A("Android"))&&!(eb()||A("iPad")||A("iPod"));var Vg=function(a){return(a=a.exec($a))?a[1]:""},Wg=function(){if(Pg)return Vg(/Firefox\/([0-9.]+)/);if(B||hb||gb)return mb;if(Tg)return Vg(/Chrome\/([0-9.]+)/);if(Ug&&!(eb()||A("iPad")||A("iPod")))return Vg(/Version\/([0-9.]+)/);if(Qg||Rg){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec($a))return a[1]+"."+a[2]}else if(Sg)return(a=Vg(/Android\s+([0-9.]+)/))?a:Vg(/Version\/([0-9.]+)/);return""}();var Xg=null,Yg=null,$g=function(a){var b=[];Zg(a,function(a){b.push(a)});return b},Zg=function(a,b){if(!Xg){Xg={};Yg={};for(var c=0;65>c;c++)Xg[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Yg[Xg[c]]=c,62<=c&&(Yg["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)]=c)}for(var c=Yg,d=0;d<a.length;){var e=c[a.charAt(d++)],f=d<a.length?c[a.charAt(d)]:0;++d;var g=d<a.length?c[a.charAt(d)]:64;++d;var h=d<a.length?c[a.charAt(d)]:64;++d;if(null==
e||null==f||null==g||null==h)throw Error();b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}};var ah=function(){this.g=-1};var bh=function(){this.g=-1;this.g=64;this.f=[];this.m=[];this.l=[];this.j=[];this.j[0]=128;for(var a=1;a<this.g;++a)this.j[a]=0;this.i=this.h=0;this.reset()};u(bh,ah);bh.prototype.reset=function(){this.f[0]=1732584193;this.f[1]=4023233417;this.f[2]=2562383102;this.f[3]=271733878;this.f[4]=3285377520;this.i=this.h=0};
var ch=function(a,b,c){c||(c=0);var d=a.l;if(n(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.f[0];c=a.f[1];for(var g=a.f[2],h=a.f[3],p=a.f[4],r,e=0;80>e;e++)40>e?20>e?(f=h^c&(g^h),r=1518500249):(f=c^g^h,r=1859775393):60>e?(f=c&g|h&(c|g),r=2400959708):(f=c^g^h,r=3395469782),
f=(b<<5|b>>>27)+f+p+r+d[e]&4294967295,p=h,h=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.f[0]=a.f[0]+b&4294967295;a.f[1]=a.f[1]+c&4294967295;a.f[2]=a.f[2]+g&4294967295;a.f[3]=a.f[3]+h&4294967295;a.f[4]=a.f[4]+p&4294967295};
bh.prototype.update=function(a,b){if(null!=a){m(b)||(b=a.length);for(var c=b-this.g,d=0,e=this.m,f=this.h;d<b;){if(0==f)for(;d<=c;)ch(this,a,d),d+=this.g;if(n(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.g){ch(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.g){ch(this,e);f=0;break}}this.h=f;this.i+=b}};var dh=function(a,b){if(b+1>=a.length)return null;if(!(a[b+1]&128))return{length:a[b+1],ga:1};var c=a[b+1]&127;if(b+c+1>=a.length||2<c)return null;for(var d=0,e=2;e<=c+1;e++)d=d<<8|a[b+e];return{length:d,ga:c+1}},eh=function(a){var b=[{action:"step",code:48,optional:!1},{action:"step",code:48,optional:!1},{action:"skip",code:160,optional:!0},{action:"skip",code:2,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",
code:48,optional:!1},{action:"return",code:48,optional:!1}],c=0,d=-1;if(65535<a.length)return null;for(;b.length;){var e=b.shift();d++;if(a[c]!=e.code){if(e.optional)continue;break}var f=dh(a,c);if(!f)break;var g=c+f.length+f.ga;if(g>=a.length)break;switch(e.action){case "step":c+=f.ga+1;continue;case "skip":c=g+1;continue;case "return":return Fa(a,c,g+1);default:return null}}return null},fh=function(a){for(var b=a.length,c=0,d=0;d<b-1;d++)c+=a[d];c=(a[b-1]+16*c)%24;a=65+c;73<=a&&a++;79<=a&&a++;return String.fromCharCode(a)},
gh=function(a){return String.fromCharCode(50+a[a.length-1]%8)},hh=function(a,b){for(var c=[],d=0;4>d;d++)c[d]=a[b+d]^a[16+d];return c};var ih=function(a){this.f=a},jh=function(a,b,c,d){if(!a.j(d))return E();var e=a.g(d.bssid);if(!e||!a.h(c))return E();a=b.verifyDestination(e);H(a,function(){});return a.then(function(a){if(!a)return E();a=new zc((new Date).getTime(),e);var b;var c=e.certificate.replace(/[\r\n]/g,""),c=c.replace("-----BEGIN CERTIFICATE-----",""),c=c.replace("-----END CERTIFICATE-----","");try{b=$g(c)}catch(d){b=null}if(b)if(c=eh(b)){b=new bh;b.update(c);var c=[],p=8*b.i;56>b.h?b.update(b.j,56-b.h):b.update(b.j,b.g-
(b.h-56));for(var r=b.g-1;56<=r;r--)b.m[r]=p&255,p/=256;ch(b,b.m);for(r=p=0;5>r;r++)for(var da=24;0<=da;da-=8)c[p]=b.f[r]>>da&255,++p;c?(b=[],b[0]=fh(hh(c,0)),b[1]=gh(hh(c,4)),b[2]=fh(hh(c,8)),b[3]=gh(hh(c,12))):b=null}else b=null;else b=null;if(!b)return E();a.pin=b;return a})},kh=function(a){this.f=a};u(kh,ih);kh.prototype.j=function(a){return a.ssid===this.f.name};kh.prototype.h=function(){return!0};
kh.prototype.g=function(a){var b=this.f,c={};if(!(b.public_key&&b.ssdp_udn&&b.name&&b.sign&&b.sign.certificate&&b.sign.nonce&&b.sign.signed_data))return null;c.certificate=b.sign.certificate;c.publicKey=b.public_key;c.nonce=b.sign.nonce;c.signedData=b.sign.signed_data;c.deviceSerial=b.ssdp_udn;c.deviceSsid=b.name;c.deviceBssid=a;return c};var lh=function(a){this.f=a};u(lh,ih);lh.prototype.j=function(a){var b=this.f.hotspot_bssid.toLowerCase();return a.ssid===this.f.name&&a.bssid.toLowerCase()===b};
lh.prototype.h=function(a){return!(!this.f.sign||this.f.sign.nonce!==a)};
lh.prototype.g=function(){var a=this.f,b={};if(!(a.public_key&&a.ssdp_udn&&a.name&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data&&a.hotspot_bssid))return null;b.certificate=a.sign.certificate;b.publicKey=a.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.hotspot_bssid;a.sign.intermediate_certs&&0<=sa(Wg,42)&&(b.intermediateCertificates=a.sign.intermediate_certs);return b};var mh=function(a){this.f=a};
u(mh,ih);mh.prototype.j=function(a){var b=this.f;if(!b.name||!b.device_info||!b.device_info.hotspot_bssid)return!1;var c=b.name;b.setup&&b.setup.ssid_suffix&&(c+="."+b.setup.ssid_suffix);return a.ssid===c&&Yf(b.device_info.hotspot_bssid,a.bssid)};mh.prototype.h=function(a){return!(!this.f.sign||this.f.sign.nonce!==a)};
mh.prototype.g=function(){var a=this.f,b={};if(!(a.name&&a.device_info&&a.device_info.public_key&&a.device_info.ssdp_udn&&a.device_info.hotspot_bssid&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data))return null;b.certificate=a.sign.certificate;b.publicKey=a.device_info.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.device_info.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.device_info.hotspot_bssid;a.sign.intermediate_certs&&0<=sa(Wg,42)&&(b.intermediateCertificates=
a.sign.intermediate_certs);return b};var nh=function(a,b,c){var d=b.read();this.f=d.eurekaInfoState&&d.eurekaInfoState.setupApiVersion||null;this.i=new Le("http://"+d.deviceIpAddress+":8008");this.h=a;this.g=b;c?(a=Hg(c),c=(c=Ig(c))?"en"==a?a+"-"+c+", en;q=0.8":a+"-"+c+", "+a+";q=0.8, en;q=0.5":a+", en;q=0.5"):c=null;this.j=c},oh=function(a){var b=new xc(a);return{read:function(){return b},write:function(a){b=a}}},qh=function(a,b,c){var d=new nh(a,b,c);return d.f?D(d):Ag(d,{options:ph()}).then(function(){return d})},sh=function(a,b,
c,d,e){var f=new nh(a,b,e),g=b.read();if(g.eurekaInfoState&&g.eurekaInfoState.ethernetConnected)return D(f);if(g.verificationState){if(Yf(g.verificationState.verificationProperties.deviceBssid,d.bssid))return D(f);g=new xc(g.deviceIpAddress);b.write(g)}a={};var h=a.nonce=qa();a.options=ph().concat(["name","sign","device_info.public_key","device_info.hotspot_bssid"]);return Ag(f,a).then(function(a){a:switch(a.version){case 3:a=jh(new kh(a),c,h,d);break a;case 4:case 5:case 6:a=jh(new lh(a),c,h,d);
break a;default:a=jh(new mh(a),c,h,d)}return a}).then(function(a){g=b.read();g.verificationState=a;b.write(g);return f},function(a){ve(a);if(a instanceof Pf)throw a;throw new rh;})},th=function(){v.call(this)};u(th,v);th.prototype.name="setupApiVersionError";var rh=function(){v.call(this)};u(rh,v);rh.prototype.name="deviceVerificationError";var ph=function(){return"version name setup.setup_state net.ethernet_connected net.ip_address device_info.ssdp_udn device_info.capabilities.display_supported setup.ssid_suffix setup.tos_accepted".split(" ")};
new z(["now","fdr","ota"]);nh.prototype.l=new z([3,4,5,6,7]);
nh.prototype.m=new x(3,function(a){w(a,"locale","en-US");return a},4,dc,5,dc,6,dc,7,function(a){if(a.device_info){var b=a.device_info;!b.hotspot_bssid&&b.mac_address&&(b.hotspot_bssid="00:1A:11:FF:"+b.mac_address.substr(b.mac_address.length-5));b.capabilities&&(b=b.capabilities,w(b,"display_supported",!0),w(b,"wifi_supported",!0),w(b,"wifi_regulatory_domain_locked",!1),w(b,"hotspot_supported",!0),w(b,"ble_supported",!1),w(b,"multizone_supported",!1))}a.net&&w(a.net,"ethernet_connected",!1);a.setup&&
w(a.setup,"tos_accepted",!0);a.settings&&(b=a.settings,w(b,"time_format",1),w(b,"locale","en-US"));return a});nh.prototype.getState=function(){return this.g.read()};
var Ag=function(a,b){var c=a.i.clone();c.h="/setup/eureka_info";if(b){var d=[];if(b.options){var e=new z(b.options),f=e.contains("sign");if(null===a.f||7>a.f){for(var g=new z(["sign","detail"]),h=new z,g=Va(g),p=0;p<g.length;p++){var r=g[p];e.contains(r)&&Xa(h,r)}h.v()&&d.push("options="+h.w().join(","))}e.v()&&(null===a.f||7<=a.f)&&d.push("params="+e.w().join(","))}b.nonce&&d.push("nonce="+b.nonce);d.length&&Oe(c,d.join("&"),void 0)}d=void 0;a.j&&(d={"Accept-Language":a.j});return Rf(a.h,{url:c.toString(),
method:"GET",headers:d,timeout:f?4E4:1E4,P:f?1:2}).then(a.o.bind(a)).then(a.s.bind(a))};nh.prototype.o=function(a){if(!a.version)return a;if(!this.l.contains(a.version))throw new th;this.f=parseInt(a.version,10);return this.m.get(this.f,null)(a)};
nh.prototype.s=function(a){var b={};this.f&&(b.setupApiVersion=this.f);3<=this.f&&6>=this.f?(b.name=a.name,b.displaySupported=!0,b.setupState=a.setup_state,b.ssdpUdn=a.ssdp_udn,3===this.f?(b.ethernetConnected=!1,b.tosAccepted=!0):(b.ethernetConnected=6===this.f?!!a.ethernet_connected:!1,b.tosAccepted=!!a.tos_accepted),a.ip_address&&(b.connectedIpAddress=a.ip_address),b.deviceType="c"):7<=this.f&&(a.name&&(b.name=a.name),a.device_info&&a.device_info.capabilities&&void 0!==a.device_info.capabilities.display_supported&&
(b.displaySupported=!!a.device_info.capabilities.display_supported),a.setup&&(void 0!==a.setup.setup_state&&(b.setupState=a.setup.setup_state),63===b.setupState?b.tosAccepted=!1:void 0!==a.setup.tos_accepted&&(b.tosAccepted=a.setup.tos_accepted),void 0!==a.setup.ssid_suffix&&(b.deviceType=a.setup.ssid_suffix||"c")),a.net&&(void 0!==a.net.ethernet_connected&&(b.ethernetConnected=a.net.ethernet_connected),a.net.ip_address&&(b.connectedIpAddress=a.net.ip_address),a.device_info&&a.device_info.ssdp_udn&&
(b.ssdpUdn=a.device_info.ssdp_udn)));var c=this.g.read();c.eurekaInfoState?Oa(c.eurekaInfoState,b):c.eurekaInfoState=b;this.g.write(c);return a};
var Fg=function(a){var b=new qc;b.immediate=!0;return Rf(a.h,{url:uh(a,"/setup/save_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),timeout:2E4,P:1}).then(function(a){var b=this.g.read();b.eurekaInfoState&&b.eurekaInfoState.setupState!==a.setup_state&&(b.eurekaInfoState.setupState=a.setup_state,this.g.write(b));return a}.bind(a))},vh=function(a){return Rf(a.h,{url:uh(a,"/setup/scan_results"),method:"GET",timeout:1E4,P:5}).then(function(a){return a})},wh=
function(a){return a.h.request({url:uh(a,"/setup/scan_wifi"),method:"POST",P:0})},Dg=function(a,b){return a.h.request({url:uh(a,"/setup/set_eureka_info"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),P:0})},uh=function(a,b){var c=a.i.clone();c.h=b;return c.toString()};var xh=function(a,b){this.onDeviceList=a;this.onError=b},yh=function(){xh.call(this,chrome.dial.onDeviceList,chrome.dial.onError)};u(yh,xh);yh.prototype.discoverNow=function(){return new C(function(a,b){chrome.dial.discoverNow(function(){chrome.runtime.lastError?b(new Qc(chrome.runtime.lastError.message)):a()})})};ca(yh);var zh=chrome.i18n.getMessage("3254351313955764967"),Ah=chrome.i18n.getMessage("3485206350043289145");var Bh=function(a,b,c,d){Lg.call(this);this.j="object"===typeof b?b:null;this.l="function"===typeof b?b:null;this.i=c;this.s=d||ba;a.addEventListener("message",this.o.bind(this))};u(Bh,Lg);Bh.prototype.o=function(a){a.origin===this.i?Og(this,a.data):this.s()};var Mg=function(a,b){a.j=a.j||a.l();a.j.postMessage(b,a.i)};var Ch=function(a,b){this.g=[];this.f=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.g[d]=e,c=!1)}},Dh={},Eh=function(a){if(-128<=a&&128>a){var b=Dh[a];if(b)return b}b=new Ch([a|0],0>a?-1:0);-128<=a&&128>a&&(Dh[a]=b);return b},Gh=function(a){if(isNaN(a)||!isFinite(a))return Fh;if(0>a)return X(Gh(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new Ch(b,0)},Hh=function(a,b){if(0==a.length)throw Error("number format error: empty string");var c=b||10;if(2>c||36<c)throw Error("radix out of range: "+
c);if("-"==a.charAt(0))return X(Hh(a.substring(1),c));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=Gh(Math.pow(c,8)),e=Fh,f=0;f<a.length;f+=8){var g=Math.min(8,a.length-f),h=parseInt(a.substring(f,f+g),c);8>g?(g=Gh(Math.pow(c,g)),e=Ih(Jh(e,g),Gh(h))):(e=Jh(e,d),e=Ih(e,Gh(h)))}return e},Fh=Eh(0),Kh=Eh(1),Lh=Eh(16777216),Mh=function(a){if(-1==a.f)return-Mh(X(a));for(var b=0,c=1,d=0;d<a.g.length;d++)b+=Nh(a,d)*c,c*=4294967296;return b};
Ch.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Oh(this))return"0";if(-1==this.f)return"-"+X(this).toString(a);for(var b=Gh(Math.pow(a,6)),c=this,d="";;){var e=Ph(c,b),c=Qh(c,Jh(e,b)),f=((0<c.g.length?c.g[0]:c.f)>>>0).toString(a),c=e;if(Oh(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var Y=function(a,b){return 0>b?0:b<a.g.length?a.g[b]:a.f},Nh=function(a,b){var c=Y(a,b);return 0<=c?c:4294967296+c},Oh=function(a){if(0!=a.f)return!1;for(var b=0;b<a.g.length;b++)if(0!=a.g[b])return!1;return!0},Z=function(a,b){var c=Qh(a,b);return-1==c.f?-1:Oh(c)?0:1},X=function(a){for(var b=a.g.length,c=[],d=0;d<b;d++)c[d]=~a.g[d];a=new Ch(c,~a.f);return Ih(a,Kh)},Ih=function(a,b){for(var c=Math.max(a.g.length,b.g.length),d=[],e=0,f=0;f<=c;f++){var g=e+(Y(a,f)&65535)+(Y(b,f)&65535),h=(g>>>16)+(Y(a,
f)>>>16)+(Y(b,f)>>>16),e=h>>>16,g=g&65535,h=h&65535;d[f]=h<<16|g}return new Ch(d,d[d.length-1]&-2147483648?-1:0)},Qh=function(a,b){return Ih(a,X(b))},Jh=function(a,b){if(Oh(a)||Oh(b))return Fh;if(-1==a.f)return-1==b.f?Jh(X(a),X(b)):X(Jh(X(a),b));if(-1==b.f)return X(Jh(a,X(b)));if(0>Z(a,Lh)&&0>Z(b,Lh))return Gh(Mh(a)*Mh(b));for(var c=a.g.length+b.g.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.g.length;e++)for(var f=0;f<b.g.length;f++){var g=Y(a,e)>>>16,h=Y(a,e)&65535,p=Y(b,f)>>>16,r=Y(b,f)&65535;d[2*
e+2*f]+=h*r;Rh(d,2*e+2*f);d[2*e+2*f+1]+=g*r;Rh(d,2*e+2*f+1);d[2*e+2*f+1]+=h*p;Rh(d,2*e+2*f+1);d[2*e+2*f+2]+=g*p;Rh(d,2*e+2*f+2)}for(e=0;e<c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new Ch(d,0)},Rh=function(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535},Ph=function(a,b){if(Oh(b))throw Error("division by zero");if(Oh(a))return Fh;if(-1==a.f)return-1==b.f?Ph(X(a),X(b)):X(Ph(X(a),b));if(-1==b.f)return X(Ph(a,X(b)));if(30<a.g.length){if(-1==a.f||-1==b.f)throw Error("slowDivide_ only works with positive integers.");
for(var c=Kh,d=b;0>=Z(d,a);)c=Sh(c,1),d=Sh(d,1);for(var e=Th(c,1),f=Th(d,1),g,d=Th(d,2),c=Th(c,2);!Oh(d);)g=Ih(f,d),0>=Z(g,a)&&(e=Ih(e,c),f=g),d=Th(d,1),c=Th(c,1);return e}c=Fh;for(d=a;0<=Z(d,b);){e=Math.max(1,Math.floor(Mh(d)/Mh(b)));f=Math.ceil(Math.log(e)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);g=Gh(e);for(var h=Jh(g,b);-1==h.f||0<Z(h,d);)e-=f,g=Gh(e),h=Jh(g,b);Oh(g)&&(g=Kh);c=Ih(c,g);d=Qh(d,h)}return c},Uh=function(a,b){for(var c=Math.max(a.g.length,b.g.length),d=[],e=0;e<c;e++)d[e]=Y(a,e)|Y(b,e);
return new Ch(d,a.f|b.f)},Sh=function(a,b){for(var c=b>>5,d=b%32,e=a.g.length+c+(0<d?1:0),f=[],g=0;g<e;g++)f[g]=0<d?Y(a,g-c)<<d|Y(a,g-c-1)>>>32-d:Y(a,g-c);return new Ch(f,a.f)},Th=function(a,b){for(var c=b>>5,d=b%32,e=a.g.length-c,f=[],g=0;g<e;g++)f[g]=0<d?Y(a,g+c)>>>d|Y(a,g+c+1)<<32-d:Y(a,g+c);return new Ch(f,a.f)};var Vh=function(a){this.g=a},Yh=function(a){try{return-1!=a.indexOf(":")?new Wh(a):new Xh(a)}catch(b){return null}},Xh=function(a){var b=Fh;if(a instanceof Ch){if(0!=a.f||0>Z(a,Fh)||0<Z(a,Zh))throw Error("The address does not look like an IPv4.");b=Ma(a)}else{if(!$h.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<c.length;d++){var e;e=c[d];var f=Number(e);e=0==f&&/^[\s\xa0]*$/.test(e)?
NaN:f;if(isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=Gh(e);b=Uh(Sh(b,8),e)}}this.g=b};u(Xh,Vh);var $h=/^[0-9.]*$/,Zh=Qh(Sh(Kh,32),Kh);Xh.prototype.toString=function(){if(this.f)return this.f;for(var a=Nh(this.g,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.f=b.join(".")};
var Wh=function(a){var b=Fh;if(a instanceof Ch){if(0!=a.f||0>Z(a,Fh)||0<Z(a,ai))throw Error("The address does not look like a valid IPv6.");b=Ma(a)}else{if(!bi.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=new Xh(c[c.length-1]);a=Nh(Ma(a.g),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));za(c,c.length-1);Ea(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+" is not a valid IPv6 address.");
if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=Ca(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=Hh(c[d],16);if(0>Z(e,Fh)||0<Z(e,ci))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Uh(Sh(b,16),e)}}this.g=b};u(Wh,Vh);var bi=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,ci=Eh(65535),ai=Qh(Sh(Kh,128),Kh);
Wh.prototype.toString=function(){if(this.f)return this.f;for(var a=[],b=3;0<=b;b--){var c=Nh(this.g,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.f=a.join(":")};var di=!1;var ei=function(a,b){this.h=new O;this.i=new Q(this.Ca.bind(this),this.Ba.bind(this));this.g=a;this.o=b+"/v2";this.l=b},fi=function(){N.call(this,"redirect")};u(fi,N);ei.prototype.start=function(){return this.i.start().then(this.J.bind(this))};ei.prototype.stop=function(){return this.i.stop()};var gi=function(a,b){ei.call(this,a,b);this.j=this.f=null;this.m=[["newwindow",this.La.bind(this)],["loadredirect",this.Ia.bind(this)]]};u(gi,ei);var hi=["exit","loadabort","unresponsive"];k=gi.prototype;
k.J=function(){return this.j};
k.Ca=function(){var a=this,b=F(),c=b.h.bind(b),d=a.g.document.querySelector("#cast-app-ui");d||(d=a.g.document.createElement("webview"),d.setAttribute("id","cast-app-ui"),d.setAttribute("src",a.o));hi.forEach(function(a){d.addEventListener(a,c)});var e=function(){var c=d.contentWindow;a.f=d;a.j=new Bh(a.g,c,a.l,function(){P(a.h,new N("originViolation"))});b.g()};d.addEventListener("contentload",e);G(b.f,function(){hi.forEach(function(a){d.removeEventListener(a,c)});d.removeEventListener("contentload",e)});
a.m.forEach(function(a){d.addEventListener.apply(d,a)});d.parentElement||a.g.document.body.appendChild(d);a.f=d;return b.f};k.Ba=function(){this.j=null;if(this.f&&this.f.parentElement){var a=this.f;this.f=null;a.parentElement.removeChild(a);this.m.forEach(function(b){a.removeEventListener.apply(a,b)})}return D()};k.Ia=function(){P(this.h,new fi)};
k.La=function(a){var b=a.windowOpenDisposition,c=Ye(a.targetUrl),d=c.j,e=c.f;("https"===d&&("www.google.com"===e||"support.google.com"===e||"chromecast.com"===e)||"http"===d&&Yh(e)&&8008===c.i&&"/setup/NOTICE.html.gz"===c.h)&&"new_foreground_tab"===b&&this.g.open(a.targetUrl);a.window.discard()};var ii=function(a,b){this.j=a;this.f=b;this.g=new O;this.h=new Q(this.m.bind(this),this.i.bind(this))};ii.prototype.start=function(){return this.h.start()};var ji=function(a,b){var c=a.j.document&&a.j.document.body||null;c&&c.setAttribute("class",b)};
ii.prototype.m=function(){var a=F();ji(this,"start");ki(this);var b=R(this.h,S(18E4)).then(function(){ji(this,"load-failed");P(this.g,"loadTimedOut");a.h(new te)}.bind(this));R(this.h,this.f.start()).then(function(){var a=this.f.J();R(this.h,Ng(a,"OfflineUiReady")).then(function(){P(this.g,"offlineUiReady")}.bind(this));P(this.g,"waitingForHandshake");return R(this.h,a.sendRequest(new Wc))}.bind(this)).then(function(c){switch(c.type){case "Handshake.Response":ji(this,"hosting-embedded-ui");P(this.g,
"embeddedUiReady");b.cancel();a.g();break;case "Handshake.UiVersionNotSupported":ji(this,"update-required");P(this.g,"updateRequired");a.h(c);break;default:ji(this,"load-failed"),P(this.g,"loadFailed")}}.bind(this));return a.f};var ki=function(a){var b=a.j.document;[["#load-failed-message",zh],["#update-required-message",Ah]].forEach(function(a){var d=b.querySelector(a[0]);d&&(d.textContent=a[1])})};ii.prototype.i=function(){return this.f.stop()};var mi=function(a,b,c,d){var e=window,f=new Sf,g=li,h=chrome.i18n.getUILanguage;this.window=e;this.g=a;this.o=b;this.j=f;this.f=e.localStorage;this.h=e.sessionStorage;this.l=g;this.m=c;this.s=d;this.i=h};var ni=function(a,b,c){this.j=new Q(this.s.bind(this),this.o.bind(this));this.f=a;this.m=b;this.g=c;this.h=null;this.i=new O;b.f.J().addListener("RestartSetup",this.u.bind(this));b.f.J().addListener("GoToDeviceList",this.f.m.bind(this.f))},oi=function(a){N.call(this,"newState");this.state=a};u(oi,N);ni.prototype.start=function(){return this.j.start()};ni.prototype.stop=function(){return this.j.stop()};
var pi=function(a,b){Pc(W(a));a.f.h.setItem("showDeviceBanner",b);Dc(a.f.h);Ic(a.f.f,a.g);G(a.stop(),function(){this.f.m()}.bind(a))},ig=function(a){Dc(a.f.h);Ic(a.f.f,a.g);a.f.m()},yg=function(a){var b={read:function(){return a.g.setupApiClientState||null},write:a.l.bind(a)};return qh(a.f.j,b,a.f.i())};ni.prototype.l=function(a){a?this.g.setupApiClientState=a:delete this.g.setupApiClientState;Hc(this.f.f,this.g)};
var W=function(a){return a.g.commonState||new wc},Eg=function(a,b){b?a.g.commonState=b:delete a.g.commonState;Hc(a.f.f,a.g)},qi=function(a){return a.g.states.all[a.g.states.current]},hg=function(a,b){a.h.stop().then(function(){if(a.g.states){var c=a.g.states;c.all=c.all.slice(0,c.current+1);c.all.push(b);c.current=c.all.length-1}else a.g.states=new Ac(0,[b]);Hc(a.f.f,a.g);a.h=a.f.l(a,b.type);P(a.i,new oi(b.type));H(R(a.j,a.h.start()),function(){Dc(a.f.h);Ic(a.f.f,a.g);a.m.f.J().sendMessage(new K("ShowGenericSetupError"));
H(a.stop(),ba)})})};ni.prototype.s=function(){var a=qi(this).type;this.h=this.f.l(this,a);P(this.i,new oi(a));a=W(this);a.country||a.connectedHotSpotBssid||R(this.j,this.m.f.J().sendRequest(new Id)).then(function(a){var c=W(this);c.country||(c.country=a.countryCode,Eg(this,c))}.bind(this));return this.h.start()};ni.prototype.o=function(){var a=this.h;this.h=null;P(this.i,new oi(null));return a.stop()};ni.prototype.u=function(){Dc(this.f.h);Ic(this.f.f,this.g);this.f.s()};var ri=function(a){U.call(this,a);this.u=new rg(this.f.f.f);this.i=new jg(this.f.f.g,new mg,new ug(this.u));this.l=new x;this.o=!1;this.s=this.h=null};u(ri,U);var si=function(a,b){this.name=a;this.type=b;this.ipAddress=this.f=null};
ri.prototype.j=function(){V(this).sendMessage(new dd(!1));this.i.f.listen("added",this.A,!0,this);this.i.f.listen("removed",this.I,!0,this);this.i.f.listen("connected",this.H,!0,this);return this.i.start().then(function(){R(this.g,S(5E3)).then(this.N.bind(this));this.L();this.s=setInterval(this.L.bind(this),1E4)}.bind(this))};
ri.prototype.m=function(){clearInterval(this.s);this.s=null;this.i.f.D("added",this.A,!0,this);this.i.f.D("removed",this.I,!0,this);this.i.f.D("connected",this.H,!0,this);this.l.clear();this.o=!1;this.h=null;return this.i.stop()};ri.prototype.L=function(){this.f.f.g.requestNetworkScan();wg(this.u)};
ri.prototype.N=function(){if(!this.o)if(this.o=!0,0===this.l.v())V(this).sendMessage(new dd(!0));else{var a=Ta(this.l,function(a,c){return"NotConnected"!==c.ConnectionState?c:(c.WiFi&&c.WiFi.SignalStrength||-Infinity)<(a&&a.WiFi&&a.WiFi.SignalStrength||-Infinity)?a:c});ti(this,a)}};var ti=function(a,b){var c=ag(b&&b.WiFi&&b.WiFi.SSID);a.o=!0;a.h=new si(c.name,c.type);a.h.f=b;R(a.g,V(a).sendRequest(new ed(Wf[a.h.type]||3,a.h.name,1<a.l.v()))).then(a.O.bind(a))};
ri.prototype.A=function(a){a=a.g;var b=!y(this.l.g,a.GUID);this.l.set(a.GUID,a);this.h?b&&V(this).sendMessage(new K("DeviceDiscovery.MoreDevicesFound")):this.o&&ti(this,a)};ri.prototype.I=function(a){a=a.g.GUID;this.l.remove(a);this.h&&this.h.f.GUID===a&&this.g.restart()};ri.prototype.H=function(a){this.o||ti(this,a.g)};ri.prototype.O=function(){this.h.f&&hg(this.f,new Bc(this.h.name,this.h.f.WiFi.SSID,this.h.f.WiFi.BSSID))};var ui=function(a){U.call(this,a)};u(ui,U);ui.prototype.j=function(){var a=this,b=null;return Lb([R(this.g,yg(this.f)),Mc()]).then(function(c){b=c[0];c=fg(b.f,W(a.f).deviceName,3!==c[1]);c=[R(a.g,Dg(b,c))];4<=b.f&&c.push(R(a.g,Fg(b)));return Lb(c)}).then(function(){return R(a.g,Ag(b))}).then(function(){switch(b.g.read().eurekaInfoState.setupState){case 60:case 52:pi(a.f,b.g.read().deviceIpAddress);break;case 62:hg(a.f,new J(11));break;default:return E()}})};var vi=function(a){U.call(this,a);this.h=null;this.l=!1;this.i=null;this.s=this.u.bind(this)};u(vi,U);vi.prototype.j=function(){var a;this.h=qi(this.f);return wi(this).then(this.A.bind(this)).then(function(){V(this).addListener("HotSpotConnection.Proceed",this.s);xi(this);this.i=new jg(this.f.f.g,new mg(this.h.bssid));this.i.f.listen("connected",this.o,!0,this);var b=ag(this.h.ssid);a=W(this.f);a.deviceType=b.type;Eg(this.f,a);Oc(W(this.f));return this.i.start()}.bind(this))};
var wi=function(a){var b=a.f.f.f;return null!==b.getItem("setupTosAccepted")?D():R(a.g,Mc()).then(function(a){var b=R(this.g,Ng(V(this),"TermsOfService.Accept"));V(this).sendMessage(new Fd(3!==a));return b}.bind(a)).then(function(a){a=a.analyticsOptIn;try{(0,chrome.extension.getBackgroundPage().backgroundSetup.setAnalyticsOptIn)(a)}catch(d){}b.setItem("setupTosAccepted","")}.bind(a))};
vi.prototype.m=function(){var a=this.i;this.h=null;this.l=!1;this.i=null;V(this).removeListener("HotSpotConnection.Proceed",this.s);if(!a)return D();a.f.D("connected",this.o,!0,this);return a.stop()};var xi=function(a){V(a).sendMessage(new gd(a.h.deviceName,a.h.ssid))};
vi.prototype.u=function(){var a=this.l?D():R(this.g,ue(this.i.f,"connected")),b=R(this.g,S(5E3)),c=this;a.then(function(){b.cancel();return yi(c)}).then(function(a){a=a.getState();c.f.l(a);a.eurekaInfoState.displaySupported?hg(c.f,new J(3)):hg(c.f,new J(4))},function(){R(c.g,V(c).sendRequest(new ad(2))).then(function(){xi(c)})});b.then(function(){a.cancel();R(c.g,V(c).sendRequest(new ad(1))).then(function(){xi(c)})})};
vi.prototype.o=function(){if(!this.l){var a=W(this.f)||new wc;a.connectedHotSpotBssid=this.h.bssid;Eg(this.f,a)}this.l=!0};var yi=function(a){var b=a.f.f,c=F();R(a.g,c.f);var d=S(12E4).then(function(){c.f.cancel()}),e=oh("192.168.255.249"),f={ssid:a.h.ssid,bssid:a.h.bssid},g=b.i(),h=null,p=function(a){h=S(a).then(function(){return sh(b.j,e,b.g,f,g)}).then(function(a){c.g(a)},function(a){a instanceof Pf?p(2E3):c.h(a)})};G(c.f,function(){d.cancel();h&&h.cancel()});p(0);return c.f};
vi.prototype.A=function(){var a=this,b=this.f.f.g;return H(R(this.g,b.getNetworks({networkType:"WiFi"})).then(function(c){if(c=xa(c,function(a){a=a.ConnectionState;return"Connected"===a||"Connecting"===a}))return R(a.g,b.getProperties(c.GUID)).then(function(b){if(!$f(b)){var c=W(a.f);b=b.WiFi;c.originalWiFiNetwork={ssid:b.SSID,bssid:b.BSSID};Eg(a.f,c)}})}),function(a){ve(a)})};var Ai=function(a,b){this.f=a;this.o=new O;this.i=this.s=null;this.m=new ii(a.window,b);this.m.g.listen("waitingForHandshake",function(){zi(this,"waitingForHandshake")}.bind(this));this.h=new Q(this.A.bind(this),this.u.bind(this));this.g=this.j=null;this.l=[]};Ai.prototype.start=function(){return this.h.start().then(function(){return this.i}.bind(this))};
Ai.prototype.A=function(){var a=F(),b=R(this.h,this.m.start()),c=R(this.h,Bi(this));this.j=this.f.h.getItem("setupSessionId");this.l=Fc(this.f.f);this.g=xa(this.l,function(a){return a.id===this.j}.bind(this));Lb([c,b]).then(function(a){(a=a[0])?Ci(this,a.WiFi&&a.WiFi.BSSID):this.g?Di(this):Ei(this)}.bind(this),function(b){a.h(b)});ue(this.o,"done").then(function(){a.g()});return a.f};
Ai.prototype.u=function(){this.j=this.f.f.getItem("setupSessionId");this.g=null;this.l=[];if(!this.i)return D();var a=this.i;this.i=null;return a.stop()};
var Di=function(a){var b=new ni(a.f,a.m,a.g);R(a.h,b.start()).then(function(){this.i=b;zi(this,"done")}.bind(a))},Ci=function(a,b){zi(a,"activeHotspotFound");if(a.g&&a.g.commonState&&Yf(a.g.commonState.connectedHotSpotBssid,b))Di(a);else{var c=xa(a.l,function(a){return!(!a.commonState||!Yf(a.commonState.connectedHotSpotBssid,b))});if(c){a.m.f.J().sendMessage(new Zc(1));var d=R(a.h,Fi(a,c,b)).then(function(){this.h.restart()}.bind(a));R(a.h,Ng(a.m.f.J(),"SetupSessionTakeoverConfirmed")).then(function(){d.cancel();
var a=new vc(c.id);a.expropriated=!0;Hc(this.f.f,a);c.id=qa();Hc(this.f.f,c);this.j=c.id;this.g=c;Di(this)}.bind(a))}else Ei(a)}},Fi=function(a,b,c){var d="setupSession_"+b.id,e=F(),f=a.f.f,g=q(function(a){a.key===d&&((a=Ec(f,"setupSession_"+d))&&a.commonState&&Yf(a.commonState.connectedHotSpotBssid,c)||e.g())},a);a.f.window.addEventListener("storage",g);return G(e.f,function(){this.f.window.removeEventListener("storage",g)},a)},Ei=function(a){a.j=qa();a.g=new vc(a.j);a.g.states=new Ac(0,[new J(1)]);
a.f.h.setItem("setupSessionId",a.j);Hc(a.f.f,a.g);Di(a)},zi=function(a,b){a.s!==b&&(a.s=b,P(a.o,b))},Bi=function(a){return new C(function(a){var c=this.f.g,d=new we,e=function(a){return"Connected"===a.ConnectionState||"Connecting"===a.ConnectionState},f=function(a){a=c.getProperties(a.GUID).then(function(a){return $f(a)?D(a):E()});return xe(d,a)};G(c.getNetworks({networkType:"WiFi",visible:!0}).then(function(a){return Mb(a.filter(e).map(f))}).then(a,ma(a,null)),function(){ye(d)})}.bind(a))};var Gi=function(a){U.call(this,a);this.h=this.i=null;this.l=this.s.bind(this);this.u=this.o.bind(this)};u(Gi,U);Gi.prototype.j=function(){return R(this.g,yg(this.f)).then(function(a){this.i=a;V(this).addListener("AudioConfirmation.UserAction",this.l);V(this).sendMessage(new ld(1));this.h=3;this.o()}.bind(this))};Gi.prototype.m=function(){this.h=this.i=null;V(this).removeListener("AudioConfirmation.UserAction",this.l);return D()};
Gi.prototype.o=function(){if(null!==this.h){var a=this.g,b;b=this.i;var c=this.h;b=b.h.request({url:uh(b,"/setup/play_sound"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new nc(c)),timeout:1E4,P:2});R(a,b);this.h=3;R(this.g,S(1===this.h?3E3:1900)).then(this.u)}};Gi.prototype.s=function(a){var b=null;switch(a.action){case 1:this.h=1;b=2;break;case 2:hg(this.f,new J(5));break;case 3:b=3;break;case 4:ig(this.f)}b&&V(this).sendMessage(new ld(b))};var Hi=function(a,b,c){this.h=a;this.s=b;this.o=new O;this.g=0;this.i=[];this.l=0;this.f={};this.H=[];this.m=this.u.bind(this);this.A=this.L.bind(this);this.j=new Q(this.O.bind(this),this.N.bind(this));this.I=c},Ii=function(a,b,c,d,e,f){this.name=a;this.ipAddress=b;this.ja=c;this.ethernetConnected=d;this.tosAccepted=e;this.deviceType=f},Ji=function(a){N.call(this,"deviceListUpdated");this.devices=a};u(Ji,N);Hi.prototype.start=function(){return this.j.start()};Hi.prototype.stop=function(){return this.j.stop()};
var Ki=function(a){if(0<=sa(Wg,49))try{var b=chrome.extension.getBackgroundPage().backgroundSetup;b.stopDialService.call(b);a.h.onDeviceList.removeListener(a.m);a.h.onDeviceList.addListener(a.m);b.startDialService.call(b)}catch(c){}},Li=function(a){Ki(a);H(a.h.discoverNow(),function(){})};Hi.prototype.O=function(){this.h.onDeviceList.addListener(this.m);this.h.onError.addListener(this.A);Li(this);return D()};
Hi.prototype.N=function(){this.h.onDeviceList.removeListener(this.m);this.h.onError.removeListener(this.A);Ia(this.f,function(a){a.M&&clearTimeout(a.M)});this.f={};return D()};Hi.prototype.u=function(a){this.g++;a=a.filter(function(a){var c=null;try{c=Ye(a.deviceDescriptionUrl).f}catch(d){}!(a=!c)&&(a=null!==Yh(c))&&(a=this.I,a=vg(a,c,1)||vg(a,c,3));return!a}.bind(this));this.l=a.length;this.i=[];0==a.length?Mi(this):va(a,this.T,this);this.H=[]};Hi.prototype.L=function(){this.u([])};
var Mi=function(a){0<a.l||(Ha(a.i,function(a,c){return pa(a.name,c.name)}),P(a.o,new Ji(a.i)))},Oi=function(a,b,c,d){var e=a.f[c];if(e&&!(e.ha>b))if(0<=ta(a.H,d.ja))Ni(a,b,c);else{if(b=a.f[c])b.M&&clearTimeout(b.M),b.M=setTimeout(q(a.S,a,c),3E5);e.description=d;e.status=1;e.da==a.g&&(--a.l,a.i.push(d),Mi(a))}},Ni=function(a,b,c){var d=a.f[c];if(d&&!(d.ha>b)){if(b=a.f[c])b.M&&clearTimeout(b.M),b=a.f,c in b&&delete b[c];d.da==a.g&&(--a.l,Mi(a))}};
Hi.prototype.S=function(a){var b=this.f[a];b&&(b.M=null,1==b.status&&(b=this.f,a in b&&delete b[a]))};
Hi.prototype.T=function(a){var b=Pi(this,a);if(1==b.status)Oi(this,this.g,a.deviceLabel,b.description);else if(2!=b.status){b.status=2;var c=b.ha=this.g,d=a.deviceLabel,e=this;H(R(this.j,this.s.request({url:a.deviceDescriptionUrl})).then(function(a){return(a=bg(a.aa()))&&a.Na?R(e.j,qh(e.s,oh(a.ipAddress))):E()}).then(function(a){a=a.getState();if(!(a.deviceIpAddress&&a.eurekaInfoState&&a.eurekaInfoState.name&&a.eurekaInfoState.ssdpUdn&&void 0!==a.eurekaInfoState.ethernetConnected&&void 0!==a.eurekaInfoState.tosAccepted&&
a.eurekaInfoState.deviceType))return E();Oi(e,c,d,new Ii(a.eurekaInfoState.name,a.deviceIpAddress,a.eurekaInfoState.ssdpUdn,a.eurekaInfoState.ethernetConnected,a.eurekaInfoState.tosAccepted,a.eurekaInfoState.deviceType))}),function(){Ni(e,c,d)})}};var Pi=function(a,b){a.f[b.deviceLabel]||(a.f[b.deviceLabel]={status:3,configId:b.configId,ha:a.g,da:a.g,M:null,description:null});var c=a.f[b.deviceLabel];c.da=a.g;b.configId&&c.configId==b.configId||(c.configId=b.configId,c.status=3);return c};var Qi=function(a,b,c,d){var e=F(),f=new Hi(c,b,new rg(d)),g=function(b){return b.ja===a},h=function(a){(a=xa(a.devices,g))&&e.g(a.ipAddress)};f.o.listen("deviceListUpdated",h);var p=null;f.start().then(function(){p=setInterval(function(){Li(f)},5E3)});var r=setTimeout(e.h.bind(e),18E4);return G(e.f,function(){clearTimeout(r);clearInterval(p);f.o.D("deviceListUpdated",h);f.stop()})};var Ri=function(a){U.call(this,a);this.h=null;this.s=0;this.i=null;this.o=0};u(Ri,U);Ri.prototype.j=function(){var a=this;return R(this.g,yg(this.f)).then(function(b){a.h=b;V(a).sendMessage(new K("OtaUpdate.Pending"));Si(a,0)})};
var Si=function(a,b){H(R(a.g,S(b)).then(function(){++a.s;return R(a.g,Ag(a.h,{options:["ota_status","setup.setup_state"]}))}).then(function(b){var d=a.h.g.read().eurekaInfoState,e=0;7<=a.h.f&&(e=b.ota_status.download_progress);if(a.i!==d.setupState||e!==a.o)a.i=d.setupState,a.o=e,60===a.i&&a.l();Si(a,3E3)}),function(b){ve(b);b=a.h.getState().eurekaInfoState.ssdpUdn;var d=a.f.f;R(a.g,Qi(b,d.j,d.o,d.f)).then(a.l.bind(a),a.u.bind(a))})};
Ri.prototype.l=function(){var a=V(this);R(this.g,Ng(a,"OtaUpdate.Proceed")).then(function(){pi(this.f,this.h.g.read().deviceIpAddress)}.bind(this));a.sendMessage(new K("OtaUpdate.Done"))};Ri.prototype.u=function(){};var Ui=function(a){this.i=a;this.h=new O;this.f=new x;this.j=!1;this.g=new Q(function(){Ti(this);return D()}.bind(this),function(){this.f.clear();this.j=!1;return D()}.bind(this))},Vi=function(a){N.call(this,"networksUpdated");this.networks=a};u(Vi,N);var Wi=function(){N.call(this,"scanError")};u(Wi,N);var Xi=function(){this.networks=new x;this.f=0;this.R=F()};Ui.prototype.start=function(){return this.g.start()};Ui.prototype.stop=function(){return this.g.stop()};
var Ti=function(a){H(R(a.g,wh(a.i)).then(function(){R(a.g,S(3E3))}).then(function(){var b=new Xi;a.m(b);return b.R.f}).then(a.o.bind(a)).then(function(){return R(a.g,S(1E3))}).then(function(){Ti(a)}),function(b){ve(b);P(a.h,new Wi);a.stop()})};Ui.prototype.m=function(a){H(R(this.g,vh(this.i)).then(this.l.bind(this,a)).then(function(){5===a.f?a.R.g(a.networks):R(this.g,S(2E3)).then(this.m.bind(this,a))}.bind(this)),function(b){a.R.h(b)})};
Ui.prototype.l=function(a,b){var c=!1,d=!1;b.filter(function(a){return 1!==a.wpa_auth?!0:!Zf(a.bssid)}).forEach(function(b){y(a.networks.g,b.bssid)||(a.networks.set(b.bssid,b),c=!0);y(this.f.g,b.bssid)||(this.f.set(b.bssid,b),d=!0)}.bind(this));a.f=c?0:a.f+1;if(d||!this.j)P(this.h,new Vi(this.f.w())),this.j=!0};Ui.prototype.o=function(a){var b=new z(this.f.B()),c=new z(a.B());this.f=a;Za(b,c).v()&&P(this.h,new Vi(this.f.w()))};var Yi=function(a){U.call(this,a);this.h=this.i=null;this.o=new x;this.l=this.u.bind(this)};u(Yi,U);Yi.prototype.j=function(){return R(this.g,yg(this.f)).then(function(a){this.i=a;this.h=new Ui(a);this.h.h.listen("networksUpdated",this.s,!0,this);a=V(this);a.addListener("WiFiConfig.Connect",this.l);a.addListener("WiFiConfig.Retry",this.l);var b=W(this.f),c=b.connectWiFi;c?(c=eg(c),delete b.connectWiFi,Eg(this.f,b)):(c=new sd(1,[],null,null),Zi(this,this.i,b));a.sendMessage(c);return this.h.start()}.bind(this))};
Yi.prototype.m=function(){var a=V(this);a.removeListener("WiFiConfig.Connect",this.l);a.removeListener("WiFiConfig.Retry",this.l);this.i=null;if(!this.h)return D();this.h.h.D("networksUpdated",this.s,!0,this);a=this.h;this.h=null;return a.stop()};Yi.prototype.s=function(a){var b=[];a.networks.forEach(function(a){b.push(new rd(a.ssid,a.bssid,cg(a.wpa_auth)));this.o.set(a.bssid,a)}.bind(this));V(this).sendMessage(new td(b))};
Yi.prototype.u=function(a){var b=null,c=null,d=null;"WiFiConfig.Connect"===a.type?(c=a,b=c.network):(d=a,b=d.network);var e=new Yb(b.ssid,dg(b.security));b.bssid&&(a=this.o.get(b.bssid),a.wpa_auth&&(e.wpa_auth=a.wpa_auth),a.wpa_cipher&&(e.wpa_cipher=a.wpa_cipher),a.wpa_id&&(e.wpa_id=a.wpa_id));a=q(function(a){a&&(e.enc_passwd=a);a=W(this.f);a.connectWiFi=new yc(e);b.bssid&&(a.connectWiFi.bssid=b.bssid);Eg(this.f,a);a=this.i;a=a.h.request({url:uh(a,"/setup/connect_wifi"),method:"POST",headers:{"Content-Type":"application/json"},
content:JSON.stringify(e),P:0});H(a,ba);hg(this.f,new J(7))},this);d?a(d.encryptedPassword):(c=c.password)?R(this.g,$i(this,c)).then(a):a(null)};var $i=function(a,b){var c=a.i.getState().verificationState.verificationProperties;return a.f.f.g.verifyAndEncryptData(c,b)},Zi=function(a,b,c){var d=b.f;if(!(4>d)){c=c.country;var e=null;7>d?(d=new tc,d.location=new ec,d.location.country_code=c,e=d):(d=new uc,d.settings=new lc,d.settings.country_code=c,e=d);H(R(a.g,Dg(b,e)),function(){})}};var aj=function(a){U.call(this,a);this.i=null;this.o=!1;this.h=null;this.l=!0};u(aj,U);var bj=function(a){this.g=a};u(bj,lg);bj.prototype.f=function(a){return!(!a.WiFi||a.WiFi.SSID!==this.g)};aj.prototype.j=function(){var a=this,b=W(this.f).connectWiFi.f.ssid;R(this.g,Ng(V(this),"WiFiReconnection.Proceed")).then(function(){cj(a)});V(this).sendMessage(new xd(b));this.i=new jg(this.f.f.g,new bj(b));R(this.g,ue(this.i.f,"connected")).then(function(){a.o=!0;dj(a)});return this.i.start()};
aj.prototype.m=function(){var a=this.i;this.i=null;this.o=!1;this.h=null;this.l=!0;return a?a.stop():D()};
var dj=function(a){H(R(a.g,yg(a.f)).then(function(b){b=b.g.read().eurekaInfoState.connectedIpAddress;return R(a.g,qh(a.f.f.j,oh(b)))}).then(function(b){a.h=b;a.l||ej(a)}),function(b){ve(b);R(a.g,S(2E3)).then(function(){dj(a)})})},cj=function(a){a.l=!1;a.h?ej(a):R(a.g,S(5E3)).then(function(){a.h||R(a.g,V(a).sendRequest(new ad(a.o?2:1))).then(function(){a.g.restart()})})},ej=function(a){a.f.l(a.h.getState());hg(a.f,new J(10))};var li=function(a,b){switch(b){case 1:return new ri(a);case 2:return new vi(a);case 3:return new gg(a);case 4:return new Gi(a);case 5:return new Jg(a);case 6:return new Yi(a);case 7:return new xg(a);case 9:return new aj(a);case 10:return new ui(a);case 11:return new Ri(a);default:return new U(a)}};var fj=null;t("castApp.core.setupStateManager",fj);
window.addEventListener("load",function(){var a=new gi(window,"https://castappui.google.com");a.h.addEventListener("originViolation",function(){window.location="https://chromecast.com"});di||(di=!0);Gc();document.body.addEventListener("click",function(a){"button"===a.target.type.toLowerCase()&&"buttonReset"===a.target.getAttribute("id")&&(window.localStorage.clear(),window.sessionStorage.clear())});var b=chrome.networkingPrivate?Sc.sa():null,c=chrome.dial?yh.sa():null;(new Ai(new mi(b,c,function(){window.location.pathname=
"cast_setup/devices.html"},function(){window.location.reload()}),a)).start().then(function(a){fj=a})});
